/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["node_modules_lg-share_dist_lg-share_js-node_modules_lg-thumbnail_dist_lg-thumbnail_js-node_mo-c296ce"],{

/***/ "./node_modules/lg-share/dist/lg-share.js":
/*!************************************************!*\
  !*** ./node_modules/lg-share/dist/lg-share.js ***!
  \************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! lg-share - v1.2.1 - 2020-06-13\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2020 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (a0) {\n      return (factory(a0));\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function ($) {\n\n(function() {\n\n    'use strict';\n\n    var defaults = {\n        share: true,\n        facebook: true,\n        facebookDropdownText: 'Facebook',\n        twitter: true,\n        twitterDropdownText: 'Twitter',\n        googlePlus: true,\n        googlePlusDropdownText: 'GooglePlus',\n        pinterest: true,\n        pinterestDropdownText: 'Pinterest'\n    };\n\n    var Share = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.core.s = $.extend({}, defaults, this.core.s);\n        if (this.core.s.share) {\n            this.init();\n        }\n\n        return this;\n    };\n\n    Share.prototype.init = function() {\n        var _this = this;\n\n        var shareHtml = '<button type=\"button\" aria-label=\"Share\" id=\"lg-share\" class=\"lg-icon\" aria-haspopup=\"true\" aria-expanded=\"false\">' +\n            '<ul class=\"lg-dropdown\" style=\"position: absolute;\">';\n        shareHtml += _this.core.s.facebook ? '<li><a id=\"lg-share-facebook\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.facebookDropdownText + '</span></a></li>' : '';\n        shareHtml += _this.core.s.twitter ? '<li><a id=\"lg-share-twitter\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.twitterDropdownText + '</span></a></li>' : '';\n        shareHtml += _this.core.s.googlePlus ? '<li><a id=\"lg-share-googleplus\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.googlePlusDropdownText + '</span></a></li>' : '';\n        shareHtml += _this.core.s.pinterest ? '<li><a id=\"lg-share-pinterest\" target=\"_blank\"><span class=\"lg-icon\"></span><span class=\"lg-dropdown-text\">' + this.core.s.pinterestDropdownText + '</span></a></li>' : '';\n        shareHtml += '</ul></button>';\n\n        this.core.$outer.find('.lg-toolbar').append(shareHtml);\n        this.core.$outer.find('.lg').append('<div id=\"lg-dropdown-overlay\"></div>');\n        $('#lg-share').on('click.lg', function(){\n            _this.core.$outer.toggleClass('lg-dropdown-active');\n            var ariaExpanded = $('#lg-share').attr('aria-expanded');\n            $('#lg-share').attr('aria-expanded', ariaExpanded === 'true' ? false: true);\n        });\n\n        $('#lg-dropdown-overlay').on('click.lg', function(){\n            _this.core.$outer.removeClass('lg-dropdown-active');\n            $('#lg-share').attr('aria-expanded', false);\n        });\n\n        _this.core.$el.on('onAfterSlide.lg.tm', function(event, prevIndex, index) {\n\n            setTimeout(function() {\n\n                $('#lg-share-facebook').attr('href', 'https://www.facebook.com/sharer/sharer.php?u=' + (encodeURIComponent(_this.getSahreProps(index, 'facebookShareUrl') || window.location.href)));\n\n                $('#lg-share-twitter').attr('href', 'https://twitter.com/intent/tweet?text=' + _this.getSahreProps(index, 'tweetText') + '&url=' + (encodeURIComponent(_this.getSahreProps(index, 'twitterShareUrl') || window.location.href)));\n\n                $('#lg-share-googleplus').attr('href', 'https://plus.google.com/share?url=' + (encodeURIComponent(_this.getSahreProps(index, 'googleplusShareUrl') || window.location.href)));\n\n                $('#lg-share-pinterest').attr('href', 'http://www.pinterest.com/pin/create/button/?url=' + (encodeURIComponent(_this.getSahreProps(index, 'pinterestShareUrl') || window.location.href)) + '&media=' + encodeURIComponent(_this.getSahreProps(index, 'src')) + '&description=' + _this.getSahreProps(index, 'pinterestText'));\n\n            }, 100);\n        });\n    };\n\n    Share.prototype.getSahreProps = function(index, prop){\n        var shareProp = '';\n        if(this.core.s.dynamic) {\n            shareProp = this.core.s.dynamicEl[index][prop];\n        } else {\n            var _href = this.core.$items.eq(index).attr('href');\n            var _prop = this.core.$items.eq(index).data(prop);\n            shareProp = prop === 'src' ? _href || _prop : _prop;\n        }\n        return shareProp;\n    };\n\n    Share.prototype.destroy = function() {\n\n    };\n\n    $.fn.lightGallery.modules.share = Share;\n\n})();\n\n\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbGctc2hhcmUvZGlzdC9sZy1zaGFyZS5qcy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0EsK0JBQStCOztBQUUvQjtBQUNBLE1BQU0sSUFBMEM7QUFDaEQ7QUFDQSxJQUFJLGlDQUFPLENBQUMseUVBQVEsQ0FBQyxtQ0FBRTtBQUN2QjtBQUNBLEtBQUs7QUFBQSxrR0FBQztBQUNOLElBQUksS0FBSyxFQU9OO0FBQ0gsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBLGlDQUFpQztBQUNqQztBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBLENBQUM7Ozs7QUFJRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xnLXNoYXJlL2Rpc3QvbGctc2hhcmUuanM/YjRjYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgbGctc2hhcmUgLSB2MS4yLjEgLSAyMDIwLTA2LTEzXG4qIGh0dHA6Ly9zYWNoaW5jaG9vbHVyLmdpdGh1Yi5pby9saWdodEdhbGxlcnlcbiogQ29weXJpZ2h0IChjKSAyMDIwIFNhY2hpbiBOOyBMaWNlbnNlZCBHUEx2MyAqL1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZ1bmN0aW9uIChhMCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KGEwKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KHJvb3RbXCJqUXVlcnlcIl0pO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgkKSB7XG5cbihmdW5jdGlvbigpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgc2hhcmU6IHRydWUsXG4gICAgICAgIGZhY2Vib29rOiB0cnVlLFxuICAgICAgICBmYWNlYm9va0Ryb3Bkb3duVGV4dDogJ0ZhY2Vib29rJyxcbiAgICAgICAgdHdpdHRlcjogdHJ1ZSxcbiAgICAgICAgdHdpdHRlckRyb3Bkb3duVGV4dDogJ1R3aXR0ZXInLFxuICAgICAgICBnb29nbGVQbHVzOiB0cnVlLFxuICAgICAgICBnb29nbGVQbHVzRHJvcGRvd25UZXh0OiAnR29vZ2xlUGx1cycsXG4gICAgICAgIHBpbnRlcmVzdDogdHJ1ZSxcbiAgICAgICAgcGludGVyZXN0RHJvcGRvd25UZXh0OiAnUGludGVyZXN0J1xuICAgIH07XG5cbiAgICB2YXIgU2hhcmUgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAgICAgdGhpcy5jb3JlID0gJChlbGVtZW50KS5kYXRhKCdsaWdodEdhbGxlcnknKTtcblxuICAgICAgICB0aGlzLmNvcmUucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgdGhpcy5jb3JlLnMpO1xuICAgICAgICBpZiAodGhpcy5jb3JlLnMuc2hhcmUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFNoYXJlLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHNoYXJlSHRtbCA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwiU2hhcmVcIiBpZD1cImxnLXNoYXJlXCIgY2xhc3M9XCJsZy1pY29uXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWV4cGFuZGVkPVwiZmFsc2VcIj4nICtcbiAgICAgICAgICAgICc8dWwgY2xhc3M9XCJsZy1kcm9wZG93blwiIHN0eWxlPVwicG9zaXRpb246IGFic29sdXRlO1wiPic7XG4gICAgICAgIHNoYXJlSHRtbCArPSBfdGhpcy5jb3JlLnMuZmFjZWJvb2sgPyAnPGxpPjxhIGlkPVwibGctc2hhcmUtZmFjZWJvb2tcIiB0YXJnZXQ9XCJfYmxhbmtcIj48c3BhbiBjbGFzcz1cImxnLWljb25cIj48L3NwYW4+PHNwYW4gY2xhc3M9XCJsZy1kcm9wZG93bi10ZXh0XCI+JyArIHRoaXMuY29yZS5zLmZhY2Vib29rRHJvcGRvd25UZXh0ICsgJzwvc3Bhbj48L2E+PC9saT4nIDogJyc7XG4gICAgICAgIHNoYXJlSHRtbCArPSBfdGhpcy5jb3JlLnMudHdpdHRlciA/ICc8bGk+PGEgaWQ9XCJsZy1zaGFyZS10d2l0dGVyXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PHNwYW4gY2xhc3M9XCJsZy1pY29uXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGctZHJvcGRvd24tdGV4dFwiPicgKyB0aGlzLmNvcmUucy50d2l0dGVyRHJvcGRvd25UZXh0ICsgJzwvc3Bhbj48L2E+PC9saT4nIDogJyc7XG4gICAgICAgIHNoYXJlSHRtbCArPSBfdGhpcy5jb3JlLnMuZ29vZ2xlUGx1cyA/ICc8bGk+PGEgaWQ9XCJsZy1zaGFyZS1nb29nbGVwbHVzXCIgdGFyZ2V0PVwiX2JsYW5rXCI+PHNwYW4gY2xhc3M9XCJsZy1pY29uXCI+PC9zcGFuPjxzcGFuIGNsYXNzPVwibGctZHJvcGRvd24tdGV4dFwiPicgKyB0aGlzLmNvcmUucy5nb29nbGVQbHVzRHJvcGRvd25UZXh0ICsgJzwvc3Bhbj48L2E+PC9saT4nIDogJyc7XG4gICAgICAgIHNoYXJlSHRtbCArPSBfdGhpcy5jb3JlLnMucGludGVyZXN0ID8gJzxsaT48YSBpZD1cImxnLXNoYXJlLXBpbnRlcmVzdFwiIHRhcmdldD1cIl9ibGFua1wiPjxzcGFuIGNsYXNzPVwibGctaWNvblwiPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxnLWRyb3Bkb3duLXRleHRcIj4nICsgdGhpcy5jb3JlLnMucGludGVyZXN0RHJvcGRvd25UZXh0ICsgJzwvc3Bhbj48L2E+PC9saT4nIDogJyc7XG4gICAgICAgIHNoYXJlSHRtbCArPSAnPC91bD48L2J1dHRvbj4nO1xuXG4gICAgICAgIHRoaXMuY29yZS4kb3V0ZXIuZmluZCgnLmxnLXRvb2xiYXInKS5hcHBlbmQoc2hhcmVIdG1sKTtcbiAgICAgICAgdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGcnKS5hcHBlbmQoJzxkaXYgaWQ9XCJsZy1kcm9wZG93bi1vdmVybGF5XCI+PC9kaXY+Jyk7XG4gICAgICAgICQoJyNsZy1zaGFyZScpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci50b2dnbGVDbGFzcygnbGctZHJvcGRvd24tYWN0aXZlJyk7XG4gICAgICAgICAgICB2YXIgYXJpYUV4cGFuZGVkID0gJCgnI2xnLXNoYXJlJykuYXR0cignYXJpYS1leHBhbmRlZCcpO1xuICAgICAgICAgICAgJCgnI2xnLXNoYXJlJykuYXR0cignYXJpYS1leHBhbmRlZCcsIGFyaWFFeHBhbmRlZCA9PT0gJ3RydWUnID8gZmFsc2U6IHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjbGctZHJvcGRvd24tb3ZlcmxheScpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5yZW1vdmVDbGFzcygnbGctZHJvcGRvd24tYWN0aXZlJyk7XG4gICAgICAgICAgICAkKCcjbGctc2hhcmUnKS5hdHRyKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5jb3JlLiRlbC5vbignb25BZnRlclNsaWRlLmxnLnRtJywgZnVuY3Rpb24oZXZlbnQsIHByZXZJbmRleCwgaW5kZXgpIHtcblxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICQoJyNsZy1zaGFyZS1mYWNlYm9vaycpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3NoYXJlci9zaGFyZXIucGhwP3U9JyArIChlbmNvZGVVUklDb21wb25lbnQoX3RoaXMuZ2V0U2FocmVQcm9wcyhpbmRleCwgJ2ZhY2Vib29rU2hhcmVVcmwnKSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZikpKTtcblxuICAgICAgICAgICAgICAgICQoJyNsZy1zaGFyZS10d2l0dGVyJykuYXR0cignaHJlZicsICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD90ZXh0PScgKyBfdGhpcy5nZXRTYWhyZVByb3BzKGluZGV4LCAndHdlZXRUZXh0JykgKyAnJnVybD0nICsgKGVuY29kZVVSSUNvbXBvbmVudChfdGhpcy5nZXRTYWhyZVByb3BzKGluZGV4LCAndHdpdHRlclNoYXJlVXJsJykgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYpKSk7XG5cbiAgICAgICAgICAgICAgICAkKCcjbGctc2hhcmUtZ29vZ2xlcGx1cycpLmF0dHIoJ2hyZWYnLCAnaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vc2hhcmU/dXJsPScgKyAoZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLmdldFNhaHJlUHJvcHMoaW5kZXgsICdnb29nbGVwbHVzU2hhcmVVcmwnKSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZikpKTtcblxuICAgICAgICAgICAgICAgICQoJyNsZy1zaGFyZS1waW50ZXJlc3QnKS5hdHRyKCdocmVmJywgJ2h0dHA6Ly93d3cucGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPScgKyAoZW5jb2RlVVJJQ29tcG9uZW50KF90aGlzLmdldFNhaHJlUHJvcHMoaW5kZXgsICdwaW50ZXJlc3RTaGFyZVVybCcpIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmKSkgKyAnJm1lZGlhPScgKyBlbmNvZGVVUklDb21wb25lbnQoX3RoaXMuZ2V0U2FocmVQcm9wcyhpbmRleCwgJ3NyYycpKSArICcmZGVzY3JpcHRpb249JyArIF90aGlzLmdldFNhaHJlUHJvcHMoaW5kZXgsICdwaW50ZXJlc3RUZXh0JykpO1xuXG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgU2hhcmUucHJvdG90eXBlLmdldFNhaHJlUHJvcHMgPSBmdW5jdGlvbihpbmRleCwgcHJvcCl7XG4gICAgICAgIHZhciBzaGFyZVByb3AgPSAnJztcbiAgICAgICAgaWYodGhpcy5jb3JlLnMuZHluYW1pYykge1xuICAgICAgICAgICAgc2hhcmVQcm9wID0gdGhpcy5jb3JlLnMuZHluYW1pY0VsW2luZGV4XVtwcm9wXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBfaHJlZiA9IHRoaXMuY29yZS4kaXRlbXMuZXEoaW5kZXgpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIHZhciBfcHJvcCA9IHRoaXMuY29yZS4kaXRlbXMuZXEoaW5kZXgpLmRhdGEocHJvcCk7XG4gICAgICAgICAgICBzaGFyZVByb3AgPSBwcm9wID09PSAnc3JjJyA/IF9ocmVmIHx8IF9wcm9wIDogX3Byb3A7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNoYXJlUHJvcDtcbiAgICB9O1xuXG4gICAgU2hhcmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblxuICAgIH07XG5cbiAgICAkLmZuLmxpZ2h0R2FsbGVyeS5tb2R1bGVzLnNoYXJlID0gU2hhcmU7XG5cbn0pKCk7XG5cblxuXG59KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/lg-share/dist/lg-share.js\n");

/***/ }),

/***/ "./node_modules/lg-thumbnail/dist/lg-thumbnail.js":
/*!********************************************************!*\
  !*** ./node_modules/lg-thumbnail/dist/lg-thumbnail.js ***!
  \********************************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! lg-thumbnail - v1.2.1 - 2020-06-13\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2020 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (a0) {\n      return (factory(a0));\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function ($) {\n\n(function() {\n\n    'use strict';\n\n    var defaults = {\n        thumbnail: true,\n\n        animateThumb: true,\n        currentPagerPosition: 'middle',\n\n        thumbWidth: 100,\n        thumbHeight: '80px',\n        thumbContHeight: 100,\n        thumbMargin: 5,\n\n        exThumbImage: false,\n        showThumbByDefault: true,\n        toogleThumb: true,\n        pullCaptionUp: true,\n\n        enableThumbDrag: true,\n        enableThumbSwipe: true,\n        swipeThreshold: 50,\n\n        loadYoutubeThumbnail: true,\n        youtubeThumbSize: 1,\n\n        loadVimeoThumbnail: true,\n        vimeoThumbSize: 'thumbnail_small',\n\n        loadDailymotionThumbnail: true\n    };\n\n    var Thumbnail = function(element) {\n\n        // get lightGallery core plugin data\n        this.core = $(element).data('lightGallery');\n\n        // extend module default settings with lightGallery core settings\n        this.core.s = $.extend({}, defaults, this.core.s);\n\n        this.$el = $(element);\n        this.$thumbOuter = null;\n        this.thumbOuterWidth = 0;\n        this.thumbTotalWidth = (this.core.$items.length * (this.core.s.thumbWidth + this.core.s.thumbMargin));\n        this.thumbIndex = this.core.index;\n\n        if (this.core.s.animateThumb) {\n            this.core.s.thumbHeight = '100%';\n        }\n\n        // Thumbnail animation value\n        this.left = 0;\n\n        this.init();\n\n        return this;\n    };\n\n    Thumbnail.prototype.init = function() {\n        var _this = this;\n        if (this.core.s.thumbnail && this.core.$items.length > 1) {\n            if (this.core.s.showThumbByDefault) {\n                setTimeout(function(){\n                    _this.core.$outer.addClass('lg-thumb-open');\n                }, 700);\n            }\n\n            if (this.core.s.pullCaptionUp) {\n                this.core.$outer.addClass('lg-pull-caption-up');\n            }\n\n            this.build();\n            if (this.core.s.animateThumb && this.core.doCss()) {\n                if (this.core.s.enableThumbDrag) {\n                    this.enableThumbDrag();\n                }\n\n                if (this.core.s.enableThumbSwipe) {\n                    this.enableThumbSwipe();\n                }\n\n                this.thumbClickable = false;\n            } else {\n                this.thumbClickable = true;\n            }\n\n            this.toogle();\n            this.thumbkeyPress();\n        }\n    };\n\n    Thumbnail.prototype.build = function() {\n        var _this = this;\n        var thumbList = '';\n        var vimeoErrorThumbSize = '';\n        var $thumb;\n        var html = '<div class=\"lg-thumb-outer\">' +\n            '<div class=\"lg-thumb lg-group\">' +\n            '</div>' +\n            '</div>';\n\n        switch (this.core.s.vimeoThumbSize) {\n            case 'thumbnail_large':\n                vimeoErrorThumbSize = '640';\n                break;\n            case 'thumbnail_medium':\n                vimeoErrorThumbSize = '200x150';\n                break;\n            case 'thumbnail_small':\n                vimeoErrorThumbSize = '100x75';\n        }\n\n        _this.core.$outer.addClass('lg-has-thumb');\n\n        _this.core.$outer.find('.lg').append(html);\n\n        _this.$thumbOuter = _this.core.$outer.find('.lg-thumb-outer');\n        _this.thumbOuterWidth = _this.$thumbOuter.width();\n\n        if (_this.core.s.animateThumb) {\n            _this.core.$outer.find('.lg-thumb').css({\n                width: _this.thumbTotalWidth + 'px',\n                position: 'relative'\n            });\n        }\n\n        if (this.core.s.animateThumb) {\n            _this.$thumbOuter.css('height', _this.core.s.thumbContHeight + 'px');\n        }\n\n        function getThumb(src, thumb, index) {\n            var isVideo = _this.core.isVideo(src, index) || {};\n            var thumbImg;\n            var vimeoId = '';\n\n            if (isVideo.youtube || isVideo.vimeo || isVideo.dailymotion) {\n                if (isVideo.youtube) {\n                    if (_this.core.s.loadYoutubeThumbnail) {\n                        thumbImg = '//img.youtube.com/vi/' + isVideo.youtube[1] + '/' + _this.core.s.youtubeThumbSize + '.jpg';\n                    } else {\n                        thumbImg = thumb;\n                    }\n                } else if (isVideo.vimeo) {\n                    if (_this.core.s.loadVimeoThumbnail) {\n                        thumbImg = '//i.vimeocdn.com/video/error_' + vimeoErrorThumbSize + '.jpg';\n                        vimeoId = isVideo.vimeo[1];\n                    } else {\n                        thumbImg = thumb;\n                    }\n                } else if (isVideo.dailymotion) {\n                    if (_this.core.s.loadDailymotionThumbnail) {\n                        thumbImg = '//www.dailymotion.com/thumbnail/video/' + isVideo.dailymotion[1];\n                    } else {\n                        thumbImg = thumb;\n                    }\n                }\n            } else {\n                thumbImg = thumb;\n            }\n\n            thumbList += '<div data-vimeo-id=\"' + vimeoId + '\" class=\"lg-thumb-item\" style=\"width:' + _this.core.s.thumbWidth + 'px; height: ' + _this.core.s.thumbHeight + '; margin-right: ' + _this.core.s.thumbMargin + 'px\"><img src=\"' + thumbImg + '\" /></div>';\n            vimeoId = '';\n        }\n\n        if (_this.core.s.dynamic) {\n            for (var i = 0; i < _this.core.s.dynamicEl.length; i++) {\n                getThumb(_this.core.s.dynamicEl[i].src, _this.core.s.dynamicEl[i].thumb, i);\n            }\n        } else {\n            _this.core.$items.each(function(i) {\n\n                if (!_this.core.s.exThumbImage) {\n                    getThumb($(this).attr('href') || $(this).attr('data-src'), $(this).find('img').attr('src'), i);\n                } else {\n                    getThumb($(this).attr('href') || $(this).attr('data-src'), $(this).attr(_this.core.s.exThumbImage), i);\n                }\n\n            });\n        }\n\n        _this.core.$outer.find('.lg-thumb').html(thumbList);\n\n        $thumb = _this.core.$outer.find('.lg-thumb-item');\n\n        // Load vimeo thumbnails\n        $thumb.each(function() {\n            var $this = $(this);\n            var vimeoVideoId = $this.attr('data-vimeo-id');\n\n            if (vimeoVideoId) {\n                $.getJSON('//www.vimeo.com/api/v2/video/' + vimeoVideoId + '.json?callback=?', {\n                    format: 'json'\n                }, function(data) {\n                    $this.find('img').attr('src', data[0][_this.core.s.vimeoThumbSize]);\n                });\n            }\n        });\n\n        // manage active class for thumbnail\n        $thumb.eq(_this.core.index).addClass('active');\n        _this.core.$el.on('onBeforeSlide.lg.tm', function() {\n            $thumb.removeClass('active');\n            $thumb.eq(_this.core.index).addClass('active');\n        });\n\n        $thumb.on('click.lg touchend.lg', function() {\n            var _$this = $(this);\n            setTimeout(function() {\n\n                // In IE9 and bellow touch does not support\n                // Go to slide if browser does not support css transitions\n                if ((_this.thumbClickable && !_this.core.lgBusy) || !_this.core.doCss()) {\n                    _this.core.index = _$this.index();\n                    _this.core.slide(_this.core.index, false, true, false);\n                }\n            }, 50);\n        });\n\n        _this.core.$el.on('onBeforeSlide.lg.tm', function() {\n            _this.animateThumb(_this.core.index);\n        });\n\n        $(window).on('resize.lg.thumb orientationchange.lg.thumb', function() {\n            setTimeout(function() {\n                _this.animateThumb(_this.core.index);\n                _this.thumbOuterWidth = _this.$thumbOuter.width();\n            }, 200);\n        });\n\n    };\n\n    Thumbnail.prototype.setTranslate = function(value) {\n        // jQuery supports Automatic CSS prefixing since jQuery 1.8.0\n        this.core.$outer.find('.lg-thumb').css({\n            transform: 'translate3d(-' + (value) + 'px, 0px, 0px)'\n        });\n    };\n\n    Thumbnail.prototype.animateThumb = function(index) {\n        var $thumb = this.core.$outer.find('.lg-thumb');\n        if (this.core.s.animateThumb) {\n            var position;\n            switch (this.core.s.currentPagerPosition) {\n                case 'left':\n                    position = 0;\n                    break;\n                case 'middle':\n                    position = (this.thumbOuterWidth / 2) - (this.core.s.thumbWidth / 2);\n                    break;\n                case 'right':\n                    position = this.thumbOuterWidth - this.core.s.thumbWidth;\n            }\n            this.left = ((this.core.s.thumbWidth + this.core.s.thumbMargin) * index - 1) - position;\n            if (this.left > (this.thumbTotalWidth - this.thumbOuterWidth)) {\n                this.left = this.thumbTotalWidth - this.thumbOuterWidth;\n            }\n\n            if (this.left < 0) {\n                this.left = 0;\n            }\n\n            if (this.core.lGalleryOn) {\n                if (!$thumb.hasClass('on')) {\n                    this.core.$outer.find('.lg-thumb').css('transition-duration', this.core.s.speed + 'ms');\n                }\n\n                if (!this.core.doCss()) {\n                    $thumb.animate({\n                        left: -this.left + 'px'\n                    }, this.core.s.speed);\n                }\n            } else {\n                if (!this.core.doCss()) {\n                    $thumb.css('left', -this.left + 'px');\n                }\n            }\n\n            this.setTranslate(this.left);\n\n        }\n    };\n\n    // Enable thumbnail dragging and swiping\n    Thumbnail.prototype.enableThumbDrag = function() {\n\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isDraging = false;\n        var isMoved = false;\n        var tempLeft = 0;\n\n        _this.$thumbOuter.addClass('lg-grab');\n\n        _this.core.$outer.find('.lg-thumb').on('mousedown.lg.thumb', function(e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                // execute only on .lg-object\n                e.preventDefault();\n                startCoords = e.pageX;\n                isDraging = true;\n\n                // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                _this.core.$outer.scrollLeft += 1;\n                _this.core.$outer.scrollLeft -= 1;\n\n                // *\n                _this.thumbClickable = false;\n                _this.$thumbOuter.removeClass('lg-grab').addClass('lg-grabbing');\n            }\n        });\n\n        $(window).on('mousemove.lg.thumb', function(e) {\n            if (isDraging) {\n                tempLeft = _this.left;\n                isMoved = true;\n                endCoords = e.pageX;\n\n                _this.$thumbOuter.addClass('lg-dragging');\n\n                tempLeft = tempLeft - (endCoords - startCoords);\n\n                if (tempLeft > (_this.thumbTotalWidth - _this.thumbOuterWidth)) {\n                    tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n                }\n\n                if (tempLeft < 0) {\n                    tempLeft = 0;\n                }\n\n                // move current slide\n                _this.setTranslate(tempLeft);\n\n            }\n        });\n\n        $(window).on('mouseup.lg.thumb', function() {\n            if (isMoved) {\n                isMoved = false;\n                _this.$thumbOuter.removeClass('lg-dragging');\n\n                _this.left = tempLeft;\n\n                if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                    _this.thumbClickable = true;\n                }\n\n            } else {\n                _this.thumbClickable = true;\n            }\n\n            if (isDraging) {\n                isDraging = false;\n                _this.$thumbOuter.removeClass('lg-grabbing').addClass('lg-grab');\n            }\n        });\n\n    };\n\n    Thumbnail.prototype.enableThumbSwipe = function() {\n        var _this = this;\n        var startCoords = 0;\n        var endCoords = 0;\n        var isMoved = false;\n        var tempLeft = 0;\n\n        _this.core.$outer.find('.lg-thumb').on('touchstart.lg', function(e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                e.preventDefault();\n                startCoords = e.originalEvent.targetTouches[0].pageX;\n                _this.thumbClickable = false;\n            }\n        });\n\n        _this.core.$outer.find('.lg-thumb').on('touchmove.lg', function(e) {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n                e.preventDefault();\n                endCoords = e.originalEvent.targetTouches[0].pageX;\n                isMoved = true;\n\n                _this.$thumbOuter.addClass('lg-dragging');\n\n                tempLeft = _this.left;\n\n                tempLeft = tempLeft - (endCoords - startCoords);\n\n                if (tempLeft > (_this.thumbTotalWidth - _this.thumbOuterWidth)) {\n                    tempLeft = _this.thumbTotalWidth - _this.thumbOuterWidth;\n                }\n\n                if (tempLeft < 0) {\n                    tempLeft = 0;\n                }\n\n                // move current slide\n                _this.setTranslate(tempLeft);\n\n            }\n        });\n\n        _this.core.$outer.find('.lg-thumb').on('touchend.lg', function() {\n            if (_this.thumbTotalWidth > _this.thumbOuterWidth) {\n\n                if (isMoved) {\n                    isMoved = false;\n                    _this.$thumbOuter.removeClass('lg-dragging');\n                    if (Math.abs(endCoords - startCoords) < _this.core.s.swipeThreshold) {\n                        _this.thumbClickable = true;\n                    }\n\n                    _this.left = tempLeft;\n                } else {\n                    _this.thumbClickable = true;\n                }\n            } else {\n                _this.thumbClickable = true;\n            }\n        });\n\n    };\n\n    Thumbnail.prototype.toogle = function() {\n        var _this = this;\n        if (_this.core.s.toogleThumb) {\n            _this.core.$outer.addClass('lg-can-toggle');\n            _this.$thumbOuter.append('<button type=\"button\" aria-label=\"Toggle thumbnails\" class=\"lg-toogle-thumb lg-icon\"></button>');\n            _this.core.$outer.find('.lg-toogle-thumb').on('click.lg', function() {\n                _this.core.$outer.toggleClass('lg-thumb-open');\n            });\n        }\n    };\n\n    Thumbnail.prototype.thumbkeyPress = function() {\n        var _this = this;\n        $(window).on('keydown.lg.thumb', function(e) {\n            if (e.keyCode === 38) {\n                e.preventDefault();\n                _this.core.$outer.addClass('lg-thumb-open');\n            } else if (e.keyCode === 40) {\n                e.preventDefault();\n                _this.core.$outer.removeClass('lg-thumb-open');\n            }\n        });\n    };\n\n    Thumbnail.prototype.destroy = function() {\n        if (this.core.s.thumbnail && this.core.$items.length > 1) {\n            $(window).off('resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb');\n            this.$thumbOuter.remove();\n            this.core.$outer.removeClass('lg-has-thumb');\n        }\n    };\n\n    $.fn.lightGallery.modules.Thumbnail = Thumbnail;\n\n})();\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbGctdGh1bWJuYWlsL2Rpc3QvbGctdGh1bWJuYWlsLmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSwrQkFBK0I7O0FBRS9CO0FBQ0EsTUFBTSxJQUEwQztBQUNoRDtBQUNBLElBQUksaUNBQU8sQ0FBQyx5RUFBUSxDQUFDLG1DQUFFO0FBQ3ZCO0FBQ0EsS0FBSztBQUFBLGtHQUFDO0FBQ04sSUFBSSxLQUFLLEVBT047QUFDSCxDQUFDOztBQUVEOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQzs7QUFFakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBLHFJQUFxSSwwQ0FBMEM7QUFDL0s7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixtQ0FBbUM7QUFDL0Q7QUFDQTtBQUNBLFVBQVU7QUFDVjs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUEsYUFBYTtBQUNiOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQzs7QUFFRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xnLXRodW1ibmFpbC9kaXN0L2xnLXRodW1ibmFpbC5qcz81Nzc0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBsZy10aHVtYm5haWwgLSB2MS4yLjEgLSAyMDIwLTA2LTEzXG4qIGh0dHA6Ly9zYWNoaW5jaG9vbHVyLmdpdGh1Yi5pby9saWdodEdhbGxlcnlcbiogQ29weXJpZ2h0IChjKSAyMDIwIFNhY2hpbiBOOyBMaWNlbnNlZCBHUEx2MyAqL1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSB1bmxlc3MgYW1kTW9kdWxlSWQgaXMgc2V0XG4gICAgZGVmaW5lKFsnanF1ZXJ5J10sIGZ1bmN0aW9uIChhMCkge1xuICAgICAgcmV0dXJuIChmYWN0b3J5KGEwKSk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcbiAgICAvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcbiAgICAvLyBsaWtlIE5vZGUuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KHJlcXVpcmUoJ2pxdWVyeScpKTtcbiAgfSBlbHNlIHtcbiAgICBmYWN0b3J5KHJvb3RbXCJqUXVlcnlcIl0pO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgkKSB7XG5cbihmdW5jdGlvbigpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgdGh1bWJuYWlsOiB0cnVlLFxuXG4gICAgICAgIGFuaW1hdGVUaHVtYjogdHJ1ZSxcbiAgICAgICAgY3VycmVudFBhZ2VyUG9zaXRpb246ICdtaWRkbGUnLFxuXG4gICAgICAgIHRodW1iV2lkdGg6IDEwMCxcbiAgICAgICAgdGh1bWJIZWlnaHQ6ICc4MHB4JyxcbiAgICAgICAgdGh1bWJDb250SGVpZ2h0OiAxMDAsXG4gICAgICAgIHRodW1iTWFyZ2luOiA1LFxuXG4gICAgICAgIGV4VGh1bWJJbWFnZTogZmFsc2UsXG4gICAgICAgIHNob3dUaHVtYkJ5RGVmYXVsdDogdHJ1ZSxcbiAgICAgICAgdG9vZ2xlVGh1bWI6IHRydWUsXG4gICAgICAgIHB1bGxDYXB0aW9uVXA6IHRydWUsXG5cbiAgICAgICAgZW5hYmxlVGh1bWJEcmFnOiB0cnVlLFxuICAgICAgICBlbmFibGVUaHVtYlN3aXBlOiB0cnVlLFxuICAgICAgICBzd2lwZVRocmVzaG9sZDogNTAsXG5cbiAgICAgICAgbG9hZFlvdXR1YmVUaHVtYm5haWw6IHRydWUsXG4gICAgICAgIHlvdXR1YmVUaHVtYlNpemU6IDEsXG5cbiAgICAgICAgbG9hZFZpbWVvVGh1bWJuYWlsOiB0cnVlLFxuICAgICAgICB2aW1lb1RodW1iU2l6ZTogJ3RodW1ibmFpbF9zbWFsbCcsXG5cbiAgICAgICAgbG9hZERhaWx5bW90aW9uVGh1bWJuYWlsOiB0cnVlXG4gICAgfTtcblxuICAgIHZhciBUaHVtYm5haWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAgICAgLy8gZ2V0IGxpZ2h0R2FsbGVyeSBjb3JlIHBsdWdpbiBkYXRhXG4gICAgICAgIHRoaXMuY29yZSA9ICQoZWxlbWVudCkuZGF0YSgnbGlnaHRHYWxsZXJ5Jyk7XG5cbiAgICAgICAgLy8gZXh0ZW5kIG1vZHVsZSBkZWZhdWx0IHNldHRpbmdzIHdpdGggbGlnaHRHYWxsZXJ5IGNvcmUgc2V0dGluZ3NcbiAgICAgICAgdGhpcy5jb3JlLnMgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIHRoaXMuY29yZS5zKTtcblxuICAgICAgICB0aGlzLiRlbCA9ICQoZWxlbWVudCk7XG4gICAgICAgIHRoaXMuJHRodW1iT3V0ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnRodW1iT3V0ZXJXaWR0aCA9IDA7XG4gICAgICAgIHRoaXMudGh1bWJUb3RhbFdpZHRoID0gKHRoaXMuY29yZS4kaXRlbXMubGVuZ3RoICogKHRoaXMuY29yZS5zLnRodW1iV2lkdGggKyB0aGlzLmNvcmUucy50aHVtYk1hcmdpbikpO1xuICAgICAgICB0aGlzLnRodW1iSW5kZXggPSB0aGlzLmNvcmUuaW5kZXg7XG5cbiAgICAgICAgaWYgKHRoaXMuY29yZS5zLmFuaW1hdGVUaHVtYikge1xuICAgICAgICAgICAgdGhpcy5jb3JlLnMudGh1bWJIZWlnaHQgPSAnMTAwJSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUaHVtYm5haWwgYW5pbWF0aW9uIHZhbHVlXG4gICAgICAgIHRoaXMubGVmdCA9IDA7XG5cbiAgICAgICAgdGhpcy5pbml0KCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFRodW1ibmFpbC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5jb3JlLnMudGh1bWJuYWlsICYmIHRoaXMuY29yZS4kaXRlbXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29yZS5zLnNob3dUaHVtYkJ5RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIuYWRkQ2xhc3MoJ2xnLXRodW1iLW9wZW4nKTtcbiAgICAgICAgICAgICAgICB9LCA3MDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5jb3JlLnMucHVsbENhcHRpb25VcCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29yZS4kb3V0ZXIuYWRkQ2xhc3MoJ2xnLXB1bGwtY2FwdGlvbi11cCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmJ1aWxkKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jb3JlLnMuYW5pbWF0ZVRodW1iICYmIHRoaXMuY29yZS5kb0NzcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29yZS5zLmVuYWJsZVRodW1iRHJhZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVuYWJsZVRodW1iRHJhZygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvcmUucy5lbmFibGVUaHVtYlN3aXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlVGh1bWJTd2lwZSgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudGh1bWJDbGlja2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50aHVtYkNsaWNrYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudG9vZ2xlKCk7XG4gICAgICAgICAgICB0aGlzLnRodW1ia2V5UHJlc3MoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBUaHVtYm5haWwucHJvdG90eXBlLmJ1aWxkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB0aHVtYkxpc3QgPSAnJztcbiAgICAgICAgdmFyIHZpbWVvRXJyb3JUaHVtYlNpemUgPSAnJztcbiAgICAgICAgdmFyICR0aHVtYjtcbiAgICAgICAgdmFyIGh0bWwgPSAnPGRpdiBjbGFzcz1cImxnLXRodW1iLW91dGVyXCI+JyArXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cImxnLXRodW1iIGxnLWdyb3VwXCI+JyArXG4gICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9kaXY+JztcblxuICAgICAgICBzd2l0Y2ggKHRoaXMuY29yZS5zLnZpbWVvVGh1bWJTaXplKSB7XG4gICAgICAgICAgICBjYXNlICd0aHVtYm5haWxfbGFyZ2UnOlxuICAgICAgICAgICAgICAgIHZpbWVvRXJyb3JUaHVtYlNpemUgPSAnNjQwJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3RodW1ibmFpbF9tZWRpdW0nOlxuICAgICAgICAgICAgICAgIHZpbWVvRXJyb3JUaHVtYlNpemUgPSAnMjAweDE1MCc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0aHVtYm5haWxfc21hbGwnOlxuICAgICAgICAgICAgICAgIHZpbWVvRXJyb3JUaHVtYlNpemUgPSAnMTAweDc1JztcbiAgICAgICAgfVxuXG4gICAgICAgIF90aGlzLmNvcmUuJG91dGVyLmFkZENsYXNzKCdsZy1oYXMtdGh1bWInKTtcblxuICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGcnKS5hcHBlbmQoaHRtbCk7XG5cbiAgICAgICAgX3RoaXMuJHRodW1iT3V0ZXIgPSBfdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctdGh1bWItb3V0ZXInKTtcbiAgICAgICAgX3RoaXMudGh1bWJPdXRlcldpZHRoID0gX3RoaXMuJHRodW1iT3V0ZXIud2lkdGgoKTtcblxuICAgICAgICBpZiAoX3RoaXMuY29yZS5zLmFuaW1hdGVUaHVtYikge1xuICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIuZmluZCgnLmxnLXRodW1iJykuY3NzKHtcbiAgICAgICAgICAgICAgICB3aWR0aDogX3RoaXMudGh1bWJUb3RhbFdpZHRoICsgJ3B4JyxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5jb3JlLnMuYW5pbWF0ZVRodW1iKSB7XG4gICAgICAgICAgICBfdGhpcy4kdGh1bWJPdXRlci5jc3MoJ2hlaWdodCcsIF90aGlzLmNvcmUucy50aHVtYkNvbnRIZWlnaHQgKyAncHgnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGdldFRodW1iKHNyYywgdGh1bWIsIGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgaXNWaWRlbyA9IF90aGlzLmNvcmUuaXNWaWRlbyhzcmMsIGluZGV4KSB8fCB7fTtcbiAgICAgICAgICAgIHZhciB0aHVtYkltZztcbiAgICAgICAgICAgIHZhciB2aW1lb0lkID0gJyc7XG5cbiAgICAgICAgICAgIGlmIChpc1ZpZGVvLnlvdXR1YmUgfHwgaXNWaWRlby52aW1lbyB8fCBpc1ZpZGVvLmRhaWx5bW90aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmlkZW8ueW91dHViZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMuY29yZS5zLmxvYWRZb3V0dWJlVGh1bWJuYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYkltZyA9ICcvL2ltZy55b3V0dWJlLmNvbS92aS8nICsgaXNWaWRlby55b3V0dWJlWzFdICsgJy8nICsgX3RoaXMuY29yZS5zLnlvdXR1YmVUaHVtYlNpemUgKyAnLmpwZyc7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYkltZyA9IHRodW1iO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1ZpZGVvLnZpbWVvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb3JlLnMubG9hZFZpbWVvVGh1bWJuYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYkltZyA9ICcvL2kudmltZW9jZG4uY29tL3ZpZGVvL2Vycm9yXycgKyB2aW1lb0Vycm9yVGh1bWJTaXplICsgJy5qcGcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmltZW9JZCA9IGlzVmlkZW8udmltZW9bMV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYkltZyA9IHRodW1iO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc1ZpZGVvLmRhaWx5bW90aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb3JlLnMubG9hZERhaWx5bW90aW9uVGh1bWJuYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHVtYkltZyA9ICcvL3d3dy5kYWlseW1vdGlvbi5jb20vdGh1bWJuYWlsL3ZpZGVvLycgKyBpc1ZpZGVvLmRhaWx5bW90aW9uWzFdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGh1bWJJbWcgPSB0aHVtYjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGh1bWJJbWcgPSB0aHVtYjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGh1bWJMaXN0ICs9ICc8ZGl2IGRhdGEtdmltZW8taWQ9XCInICsgdmltZW9JZCArICdcIiBjbGFzcz1cImxnLXRodW1iLWl0ZW1cIiBzdHlsZT1cIndpZHRoOicgKyBfdGhpcy5jb3JlLnMudGh1bWJXaWR0aCArICdweDsgaGVpZ2h0OiAnICsgX3RoaXMuY29yZS5zLnRodW1iSGVpZ2h0ICsgJzsgbWFyZ2luLXJpZ2h0OiAnICsgX3RoaXMuY29yZS5zLnRodW1iTWFyZ2luICsgJ3B4XCI+PGltZyBzcmM9XCInICsgdGh1bWJJbWcgKyAnXCIgLz48L2Rpdj4nO1xuICAgICAgICAgICAgdmltZW9JZCA9ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKF90aGlzLmNvcmUucy5keW5hbWljKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzLmNvcmUucy5keW5hbWljRWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBnZXRUaHVtYihfdGhpcy5jb3JlLnMuZHluYW1pY0VsW2ldLnNyYywgX3RoaXMuY29yZS5zLmR5bmFtaWNFbFtpXS50aHVtYiwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5jb3JlLiRpdGVtcy5lYWNoKGZ1bmN0aW9uKGkpIHtcblxuICAgICAgICAgICAgICAgIGlmICghX3RoaXMuY29yZS5zLmV4VGh1bWJJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBnZXRUaHVtYigkKHRoaXMpLmF0dHIoJ2hyZWYnKSB8fCAkKHRoaXMpLmF0dHIoJ2RhdGEtc3JjJyksICQodGhpcykuZmluZCgnaW1nJykuYXR0cignc3JjJyksIGkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGdldFRodW1iKCQodGhpcykuYXR0cignaHJlZicpIHx8ICQodGhpcykuYXR0cignZGF0YS1zcmMnKSwgJCh0aGlzKS5hdHRyKF90aGlzLmNvcmUucy5leFRodW1iSW1hZ2UpLCBpKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIuZmluZCgnLmxnLXRodW1iJykuaHRtbCh0aHVtYkxpc3QpO1xuXG4gICAgICAgICR0aHVtYiA9IF90aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZy10aHVtYi1pdGVtJyk7XG5cbiAgICAgICAgLy8gTG9hZCB2aW1lbyB0aHVtYm5haWxzXG4gICAgICAgICR0aHVtYi5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciB2aW1lb1ZpZGVvSWQgPSAkdGhpcy5hdHRyKCdkYXRhLXZpbWVvLWlkJyk7XG5cbiAgICAgICAgICAgIGlmICh2aW1lb1ZpZGVvSWQpIHtcbiAgICAgICAgICAgICAgICAkLmdldEpTT04oJy8vd3d3LnZpbWVvLmNvbS9hcGkvdjIvdmlkZW8vJyArIHZpbWVvVmlkZW9JZCArICcuanNvbj9jYWxsYmFjaz0/Jywge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICdqc29uJ1xuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRoaXMuZmluZCgnaW1nJykuYXR0cignc3JjJywgZGF0YVswXVtfdGhpcy5jb3JlLnMudmltZW9UaHVtYlNpemVdKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbWFuYWdlIGFjdGl2ZSBjbGFzcyBmb3IgdGh1bWJuYWlsXG4gICAgICAgICR0aHVtYi5lcShfdGhpcy5jb3JlLmluZGV4KS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgIF90aGlzLmNvcmUuJGVsLm9uKCdvbkJlZm9yZVNsaWRlLmxnLnRtJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkdGh1bWIucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgJHRodW1iLmVxKF90aGlzLmNvcmUuaW5kZXgpLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJHRodW1iLm9uKCdjbGljay5sZyB0b3VjaGVuZC5sZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF8kdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgLy8gSW4gSUU5IGFuZCBiZWxsb3cgdG91Y2ggZG9lcyBub3Qgc3VwcG9ydFxuICAgICAgICAgICAgICAgIC8vIEdvIHRvIHNsaWRlIGlmIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjc3MgdHJhbnNpdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoKF90aGlzLnRodW1iQ2xpY2thYmxlICYmICFfdGhpcy5jb3JlLmxnQnVzeSkgfHwgIV90aGlzLmNvcmUuZG9Dc3MoKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLmluZGV4ID0gXyR0aGlzLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvcmUuc2xpZGUoX3RoaXMuY29yZS5pbmRleCwgZmFsc2UsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmNvcmUuJGVsLm9uKCdvbkJlZm9yZVNsaWRlLmxnLnRtJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfdGhpcy5hbmltYXRlVGh1bWIoX3RoaXMuY29yZS5pbmRleCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQod2luZG93KS5vbigncmVzaXplLmxnLnRodW1iIG9yaWVudGF0aW9uY2hhbmdlLmxnLnRodW1iJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFuaW1hdGVUaHVtYihfdGhpcy5jb3JlLmluZGV4KTtcbiAgICAgICAgICAgICAgICBfdGhpcy50aHVtYk91dGVyV2lkdGggPSBfdGhpcy4kdGh1bWJPdXRlci53aWR0aCgpO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgVGh1bWJuYWlsLnByb3RvdHlwZS5zZXRUcmFuc2xhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAvLyBqUXVlcnkgc3VwcG9ydHMgQXV0b21hdGljIENTUyBwcmVmaXhpbmcgc2luY2UgalF1ZXJ5IDEuOC4wXG4gICAgICAgIHRoaXMuY29yZS4kb3V0ZXIuZmluZCgnLmxnLXRodW1iJykuY3NzKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogJ3RyYW5zbGF0ZTNkKC0nICsgKHZhbHVlKSArICdweCwgMHB4LCAwcHgpJ1xuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgVGh1bWJuYWlsLnByb3RvdHlwZS5hbmltYXRlVGh1bWIgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICB2YXIgJHRodW1iID0gdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctdGh1bWInKTtcbiAgICAgICAgaWYgKHRoaXMuY29yZS5zLmFuaW1hdGVUaHVtYikge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uO1xuICAgICAgICAgICAgc3dpdGNoICh0aGlzLmNvcmUucy5jdXJyZW50UGFnZXJQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ21pZGRsZSc6XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gKHRoaXMudGh1bWJPdXRlcldpZHRoIC8gMikgLSAodGhpcy5jb3JlLnMudGh1bWJXaWR0aCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdGhpcy50aHVtYk91dGVyV2lkdGggLSB0aGlzLmNvcmUucy50aHVtYldpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sZWZ0ID0gKCh0aGlzLmNvcmUucy50aHVtYldpZHRoICsgdGhpcy5jb3JlLnMudGh1bWJNYXJnaW4pICogaW5kZXggLSAxKSAtIHBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKHRoaXMubGVmdCA+ICh0aGlzLnRodW1iVG90YWxXaWR0aCAtIHRoaXMudGh1bWJPdXRlcldpZHRoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGVmdCA9IHRoaXMudGh1bWJUb3RhbFdpZHRoIC0gdGhpcy50aHVtYk91dGVyV2lkdGg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmxlZnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZWZ0ID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuY29yZS5sR2FsbGVyeU9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEkdGh1bWIuaGFzQ2xhc3MoJ29uJykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctdGh1bWInKS5jc3MoJ3RyYW5zaXRpb24tZHVyYXRpb24nLCB0aGlzLmNvcmUucy5zcGVlZCArICdtcycpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb3JlLmRvQ3NzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgJHRodW1iLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogLXRoaXMubGVmdCArICdweCdcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5jb3JlLnMuc3BlZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvcmUuZG9Dc3MoKSkge1xuICAgICAgICAgICAgICAgICAgICAkdGh1bWIuY3NzKCdsZWZ0JywgLXRoaXMubGVmdCArICdweCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2xhdGUodGhpcy5sZWZ0KTtcblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIEVuYWJsZSB0aHVtYm5haWwgZHJhZ2dpbmcgYW5kIHN3aXBpbmdcbiAgICBUaHVtYm5haWwucHJvdG90eXBlLmVuYWJsZVRodW1iRHJhZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IDA7XG4gICAgICAgIHZhciBlbmRDb29yZHMgPSAwO1xuICAgICAgICB2YXIgaXNEcmFnaW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgIHZhciB0ZW1wTGVmdCA9IDA7XG5cbiAgICAgICAgX3RoaXMuJHRodW1iT3V0ZXIuYWRkQ2xhc3MoJ2xnLWdyYWInKTtcblxuICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctdGh1bWInKS5vbignbW91c2Vkb3duLmxnLnRodW1iJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnRodW1iVG90YWxXaWR0aCA+IF90aGlzLnRodW1iT3V0ZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIC8vIGV4ZWN1dGUgb25seSBvbiAubGctb2JqZWN0XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHN0YXJ0Q29vcmRzID0gZS5wYWdlWDtcbiAgICAgICAgICAgICAgICBpc0RyYWdpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgLy8gKiogRml4IGZvciB3ZWJraXQgY3Vyc29yIGlzc3VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yNjcyM1xuICAgICAgICAgICAgICAgIF90aGlzLmNvcmUuJG91dGVyLnNjcm9sbExlZnQgKz0gMTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5zY3JvbGxMZWZ0IC09IDE7XG5cbiAgICAgICAgICAgICAgICAvLyAqXG4gICAgICAgICAgICAgICAgX3RoaXMudGh1bWJDbGlja2FibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfdGhpcy4kdGh1bWJPdXRlci5yZW1vdmVDbGFzcygnbGctZ3JhYicpLmFkZENsYXNzKCdsZy1ncmFiYmluZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAkKHdpbmRvdykub24oJ21vdXNlbW92ZS5sZy50aHVtYicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGlmIChpc0RyYWdpbmcpIHtcbiAgICAgICAgICAgICAgICB0ZW1wTGVmdCA9IF90aGlzLmxlZnQ7XG4gICAgICAgICAgICAgICAgaXNNb3ZlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZW5kQ29vcmRzID0gZS5wYWdlWDtcblxuICAgICAgICAgICAgICAgIF90aGlzLiR0aHVtYk91dGVyLmFkZENsYXNzKCdsZy1kcmFnZ2luZycpO1xuXG4gICAgICAgICAgICAgICAgdGVtcExlZnQgPSB0ZW1wTGVmdCAtIChlbmRDb29yZHMgLSBzdGFydENvb3Jkcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGVtcExlZnQgPiAoX3RoaXMudGh1bWJUb3RhbFdpZHRoIC0gX3RoaXMudGh1bWJPdXRlcldpZHRoKSkge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wTGVmdCA9IF90aGlzLnRodW1iVG90YWxXaWR0aCAtIF90aGlzLnRodW1iT3V0ZXJXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGVtcExlZnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBMZWZ0ID0gMDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBtb3ZlIGN1cnJlbnQgc2xpZGVcbiAgICAgICAgICAgICAgICBfdGhpcy5zZXRUcmFuc2xhdGUodGVtcExlZnQpO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQod2luZG93KS5vbignbW91c2V1cC5sZy50aHVtYicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGlzTW92ZWQpIHtcbiAgICAgICAgICAgICAgICBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuJHRodW1iT3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLWRyYWdnaW5nJyk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gdGVtcExlZnQ7XG5cbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZW5kQ29vcmRzIC0gc3RhcnRDb29yZHMpIDwgX3RoaXMuY29yZS5zLnN3aXBlVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRodW1iQ2xpY2thYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudGh1bWJDbGlja2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNEcmFnaW5nKSB7XG4gICAgICAgICAgICAgICAgaXNEcmFnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuJHRodW1iT3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLWdyYWJiaW5nJykuYWRkQ2xhc3MoJ2xnLWdyYWInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgVGh1bWJuYWlsLnByb3RvdHlwZS5lbmFibGVUaHVtYlN3aXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IDA7XG4gICAgICAgIHZhciBlbmRDb29yZHMgPSAwO1xuICAgICAgICB2YXIgaXNNb3ZlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgdGVtcExlZnQgPSAwO1xuXG4gICAgICAgIF90aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZy10aHVtYicpLm9uKCd0b3VjaHN0YXJ0LmxnJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaWYgKF90aGlzLnRodW1iVG90YWxXaWR0aCA+IF90aGlzLnRodW1iT3V0ZXJXaWR0aCkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBzdGFydENvb3JkcyA9IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgICAgICAgIF90aGlzLnRodW1iQ2xpY2thYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF90aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZy10aHVtYicpLm9uKCd0b3VjaG1vdmUubGcnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudGh1bWJUb3RhbFdpZHRoID4gX3RoaXMudGh1bWJPdXRlcldpZHRoKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGVuZENvb3JkcyA9IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICAgICAgICAgIGlzTW92ZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuJHRodW1iT3V0ZXIuYWRkQ2xhc3MoJ2xnLWRyYWdnaW5nJyk7XG5cbiAgICAgICAgICAgICAgICB0ZW1wTGVmdCA9IF90aGlzLmxlZnQ7XG5cbiAgICAgICAgICAgICAgICB0ZW1wTGVmdCA9IHRlbXBMZWZ0IC0gKGVuZENvb3JkcyAtIHN0YXJ0Q29vcmRzKTtcblxuICAgICAgICAgICAgICAgIGlmICh0ZW1wTGVmdCA+IChfdGhpcy50aHVtYlRvdGFsV2lkdGggLSBfdGhpcy50aHVtYk91dGVyV2lkdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXBMZWZ0ID0gX3RoaXMudGh1bWJUb3RhbFdpZHRoIC0gX3RoaXMudGh1bWJPdXRlcldpZHRoO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0ZW1wTGVmdCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGVtcExlZnQgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmUgY3VycmVudCBzbGlkZVxuICAgICAgICAgICAgICAgIF90aGlzLnNldFRyYW5zbGF0ZSh0ZW1wTGVmdCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIuZmluZCgnLmxnLXRodW1iJykub24oJ3RvdWNoZW5kLmxnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMudGh1bWJUb3RhbFdpZHRoID4gX3RoaXMudGh1bWJPdXRlcldpZHRoKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNNb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLiR0aHVtYk91dGVyLnJlbW92ZUNsYXNzKCdsZy1kcmFnZ2luZycpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZW5kQ29vcmRzIC0gc3RhcnRDb29yZHMpIDwgX3RoaXMuY29yZS5zLnN3aXBlVGhyZXNob2xkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy50aHVtYkNsaWNrYWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gdGVtcExlZnQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudGh1bWJDbGlja2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudGh1bWJDbGlja2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBUaHVtYm5haWwucHJvdG90eXBlLnRvb2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoX3RoaXMuY29yZS5zLnRvb2dsZVRodW1iKSB7XG4gICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5hZGRDbGFzcygnbGctY2FuLXRvZ2dsZScpO1xuICAgICAgICAgICAgX3RoaXMuJHRodW1iT3V0ZXIuYXBwZW5kKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIHRodW1ibmFpbHNcIiBjbGFzcz1cImxnLXRvb2dsZS10aHVtYiBsZy1pY29uXCI+PC9idXR0b24+Jyk7XG4gICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctdG9vZ2xlLXRodW1iJykub24oJ2NsaWNrLmxnJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIudG9nZ2xlQ2xhc3MoJ2xnLXRodW1iLW9wZW4nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFRodW1ibmFpbC5wcm90b3R5cGUudGh1bWJrZXlQcmVzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAkKHdpbmRvdykub24oJ2tleWRvd24ubGcudGh1bWInLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5hZGRDbGFzcygnbGctdGh1bWItb3BlbicpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIF90aGlzLmNvcmUuJG91dGVyLnJlbW92ZUNsYXNzKCdsZy10aHVtYi1vcGVuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBUaHVtYm5haWwucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29yZS5zLnRodW1ibmFpbCAmJiB0aGlzLmNvcmUuJGl0ZW1zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICQod2luZG93KS5vZmYoJ3Jlc2l6ZS5sZy50aHVtYiBvcmllbnRhdGlvbmNoYW5nZS5sZy50aHVtYiBrZXlkb3duLmxnLnRodW1iJyk7XG4gICAgICAgICAgICB0aGlzLiR0aHVtYk91dGVyLnJlbW92ZSgpO1xuICAgICAgICAgICAgdGhpcy5jb3JlLiRvdXRlci5yZW1vdmVDbGFzcygnbGctaGFzLXRodW1iJyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgJC5mbi5saWdodEdhbGxlcnkubW9kdWxlcy5UaHVtYm5haWwgPSBUaHVtYm5haWw7XG5cbn0pKCk7XG5cbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lg-thumbnail/dist/lg-thumbnail.js\n");

/***/ }),

/***/ "./node_modules/lg-zoom/dist/lg-zoom.js":
/*!**********************************************!*\
  !*** ./node_modules/lg-zoom/dist/lg-zoom.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*! lg-zoom - v1.3.0 - October-14-2020\n* http://sachinchoolur.github.io/lightGallery\n* Copyright (c) 2020 Sachin N; Licensed GPLv3 */\n\n(function (root, factory) {\n  if (true) {\n    // AMD. Register as an anonymous module unless amdModuleId is set\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ \"./node_modules/jquery/dist/jquery.js\")], __WEBPACK_AMD_DEFINE_RESULT__ = (function (a0) {\n      return (factory(a0));\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function ($) {\n\n(function() {\n\n    'use strict';\n\n    var getUseLeft = function() {\n        var useLeft = false;\n        var isChrome = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\n        if (isChrome && parseInt(isChrome[2], 10) < 54) {\n            useLeft = true;\n        }\n\n        return useLeft;\n    };\n\n    var defaults = {\n        scale: 1,\n        zoom: true,\n        actualSize: true,\n        enableZoomAfter: 300,\n        useLeftForZoom: getUseLeft()\n    };\n\n    var Zoom = function(element) {\n\n        this.core = $(element).data('lightGallery');\n\n        this.core.s = $.extend({}, defaults, this.core.s);\n\n        if (this.core.s.zoom && this.core.doCss()) {\n            this.init();\n\n            // Store the zoomable timeout value just to clear it while closing\n            this.zoomabletimeout = false;\n\n            // Set the initial value center\n            this.pageX = $(window).width() / 2;\n            this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n        }\n\n        return this;\n    };\n\n    Zoom.prototype.init = function() {\n\n        var _this = this;\n        var zoomIcons = '<button type=\"button\" aria-label=\"Zoom in\" id=\"lg-zoom-in\" class=\"lg-icon\"></button><button type=\"button\" aria-label=\"Zoom out\" id=\"lg-zoom-out\" class=\"lg-icon\"></button>';\n\n        if (_this.core.s.actualSize) {\n            zoomIcons += '<button type=\"button\" aria-label=\"Actual size\" id=\"lg-actual-size\" class=\"lg-icon\"></button>';\n        }\n\n        if (_this.core.s.useLeftForZoom) {\n            _this.core.$outer.addClass('lg-use-left-for-zoom');\n        } else {\n            _this.core.$outer.addClass('lg-use-transition-for-zoom');\n        }\n\n        this.core.$outer.find('.lg-toolbar').append(zoomIcons);\n\n        // Add zoomable class\n        _this.core.$el.on('onSlideItemLoad.lg.tm.zoom', function(event, index, delay) {\n\n            // delay will be 0 except first time\n            var _speed = _this.core.s.enableZoomAfter + delay;\n\n            // set _speed value 0 if gallery opened from direct url and if it is first slide\n            if ($('body').hasClass('lg-from-hash') && delay) {\n\n                // will execute only once\n                _speed = 0;\n            } else {\n\n                // Remove lg-from-hash to enable starting animation.\n                $('body').removeClass('lg-from-hash');\n            }\n\n            _this.zoomabletimeout = setTimeout(function() {\n                _this.core.$slide.eq(index).addClass('lg-zoomable');\n            }, _speed + 30);\n        });\n\n        var scale = 1;\n        /**\n         * @desc Image zoom\n         * Translate the wrap and scale the image to get better user experience\n         *\n         * @param {String} scaleVal - Zoom decrement/increment value\n         */\n        var zoom = function(scaleVal) {\n\n            var $image = _this.core.$outer.find('.lg-current .lg-image');\n            var _x;\n            var _y;\n\n            // Find offset manually to avoid issue after zoom\n            var offsetX = ($(window).width() - $image.prop('offsetWidth')) / 2;\n            var offsetY = (($(window).height() - $image.prop('offsetHeight')) / 2) + $(window).scrollTop();\n\n            _x = _this.pageX - offsetX;\n            _y = _this.pageY - offsetY;\n\n            var x = (scaleVal - 1) * (_x);\n            var y = (scaleVal - 1) * (_y);\n\n            $image.css('transform', 'scale3d(' + scaleVal + ', ' + scaleVal + ', 1)').attr('data-scale', scaleVal);\n\n            if (_this.core.s.useLeftForZoom) {\n                $image.parent().css({\n                    left: -x + 'px',\n                    top: -y + 'px'\n                }).attr('data-x', x).attr('data-y', y);\n            } else {\n                $image.parent().css('transform', 'translate3d(-' + x + 'px, -' + y + 'px, 0)').attr('data-x', x).attr('data-y', y);\n            }\n        };\n\n        var callScale = function() {\n            if (scale > 1) {\n                _this.core.$outer.addClass('lg-zoomed');\n            } else {\n                _this.resetZoom();\n            }\n\n            if (scale < 1) {\n                scale = 1;\n            }\n\n            zoom(scale);\n        };\n\n        var actualSize = function(event, $image, index, fromIcon) {\n            var w = $image.prop('offsetWidth');\n            var nw;\n            if (_this.core.s.dynamic) {\n                nw = _this.core.s.dynamicEl[index].width || $image[0].naturalWidth || w;\n            } else {\n                nw = _this.core.$items.eq(index).attr('data-width') || $image[0].naturalWidth || w;\n            }\n\n            var _scale;\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                scale = 1;\n            } else {\n                if (nw > w) {\n                    _scale = nw / w;\n                    scale = _scale || 2;\n                }\n            }\n\n            if (fromIcon) {\n                _this.pageX = $(window).width() / 2;\n                _this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n            } else {\n                _this.pageX = event.pageX || event.originalEvent.targetTouches[0].pageX;\n                _this.pageY = event.pageY || event.originalEvent.targetTouches[0].pageY;\n            }\n\n            callScale();\n            setTimeout(function() {\n                _this.core.$outer.removeClass('lg-grabbing').addClass('lg-grab');\n            }, 10);\n        };\n\n        var tapped = false;\n\n        // event triggered after appending slide content\n        _this.core.$el.on('onAferAppendSlide.lg.tm.zoom', function(event, index) {\n\n            // Get the current element\n            var $image = _this.core.$slide.eq(index).find('.lg-image');\n\n            $image.on('dblclick', function(event) {\n                actualSize(event, $image, index);\n            });\n\n            $image.on('touchstart', function(event) {\n                if (!tapped) {\n                    tapped = setTimeout(function() {\n                        tapped = null;\n                    }, 300);\n                } else {\n                    clearTimeout(tapped);\n                    tapped = null;\n                    actualSize(event, $image, index);\n                }\n\n                event.preventDefault();\n            });\n\n        });\n\n        // Update zoom on resize and orientationchange\n        $(window).on('resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom', function() {\n            _this.pageX = $(window).width() / 2;\n            _this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n            zoom(scale);\n        });\n\n        $('#lg-zoom-out').on('click.lg', function() {\n            if (_this.core.$outer.find('.lg-current .lg-image').length) {\n                scale -= _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        $('#lg-zoom-in').on('click.lg', function() {\n            if (_this.core.$outer.find('.lg-current .lg-image').length) {\n                scale += _this.core.s.scale;\n                callScale();\n            }\n        });\n\n        $('#lg-actual-size').on('click.lg', function(event) {\n            actualSize(event, _this.core.$slide.eq(_this.core.index).find('.lg-image'), _this.core.index, true);\n        });\n\n        // Reset zoom on slide change\n        _this.core.$el.on('onBeforeSlide.lg.tm', function() {\n            scale = 1;\n            _this.resetZoom();\n        });\n\n        // Drag option after zoom\n        _this.zoomDrag();\n\n        _this.zoomSwipe();\n\n    };\n\n    /**\n     * \n     * @param {Element} el \n     * @return matrix(cos(X), sin(X), -sin(X), cos(X), 0, 0);\n     * Get the current transform value\n     */\n    Zoom.prototype.getCurrentTransform = function (el) {\n        if (!el) {\n            return 0;\n        }\n        var st = window.getComputedStyle(el, null);\n        var tm = st.getPropertyValue('-webkit-transform') ||\n            st.getPropertyValue('-moz-transform') ||\n            st.getPropertyValue('-ms-transform') ||\n            st.getPropertyValue('-o-transform') ||\n            st.getPropertyValue('transform') ||\n            'none';\n        if (tm !== 'none') {\n            return tm.split('(')[1].split(')')[0].split(',');\n        }\n        return 0;\n    };\n\n    Zoom.prototype.getCurrentRotation = function (el) {\n        if (!el) {\n            return 0;\n        }\n        var values = this.getCurrentTransform(el);\n        if (values) {\n            return Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\n            // If you want rotate in 360\n            //return (angle < 0 ? angle + 360 : angle);\n        }\n        return 0;\n    };\n\n    Zoom.prototype.getModifier = function (rotateValue, axis, el) {\n        var originalRotate = rotateValue;\n        rotateValue = Math.abs(rotateValue);\n        var transformValues = this.getCurrentTransform(el);\n        if (!transformValues) {\n            return 1;\n        }\n        var modifier = 1;\n        if (axis === 'X') {\n            var flipHorizontalValue = Math.sign(parseFloat(transformValues[0]));\n            if (rotateValue === 0 || rotateValue === 180) {\n                modifier = 1;\n            } else if (rotateValue === 90) {\n                if ((originalRotate === -90 && flipHorizontalValue === 1) || (originalRotate === 90 && flipHorizontalValue === -1)) {\n                    modifier = -1;\n                } else {\n                    modifier = 1;\n                }\n            }\n            modifier = modifier * flipHorizontalValue;\n        } else {\n            var flipVerticalValue = Math.sign(parseFloat(transformValues[3]));\n            if (rotateValue === 0 || rotateValue === 180) {\n                modifier = 1;\n            } else if (rotateValue === 90) {\n                var sinX = parseFloat(transformValues[1]);\n                var sinMinusX = parseFloat(transformValues[2]);\n                modifier = Math.sign(sinX * sinMinusX * originalRotate * flipVerticalValue);\n            }\n            modifier = modifier * flipVerticalValue;\n        }\n        return modifier;\n    };\n\n    Zoom.prototype.getImageSize = function ($image, rotateValue, axis) {\n        var imageSizes = {\n            y: 'offsetHeight',\n            x: 'offsetWidth'\n        };\n        if (rotateValue === 90) {\n            // Swap axis \n            if (axis === 'x') {\n                axis = 'y';\n            } else {\n                axis = 'x';\n            }\n        }\n        return $image.prop(imageSizes[axis]);\n    };\n\n    Zoom.prototype.getDragCords = function (e, rotateValue) {\n        if (rotateValue === 90) {\n            return {\n                x: e.pageY,\n                y: e.pageX\n            };\n        } else {\n            return {\n                x: e.pageX,\n                y: e.pageY\n            };\n        }\n    };\n    Zoom.prototype.getSwipeCords = function (e, rotateValue) {\n        var x = e.originalEvent.targetTouches[0].pageX;\n        var y = e.originalEvent.targetTouches[0].pageY;\n        if (rotateValue === 90) {\n            return {\n                x: y,\n                y: x\n            };\n        } else {\n            return {\n                x: x,\n                y: y\n            };\n        }\n    };\n\n    Zoom.prototype.getPossibleDragCords = function ($image, rotateValue) {\n\n        var minY = (this.core.$outer.find('.lg').height() - this.getImageSize($image, rotateValue, 'y')) / 2;\n        var maxY = Math.abs((this.getImageSize($image, rotateValue, 'y') * Math.abs($image.attr('data-scale'))) - this.core.$outer.find('.lg').height() + minY);\n        var minX = (this.core.$outer.find('.lg').width() - this.getImageSize($image, rotateValue, 'x')) / 2;\n        var maxX = Math.abs((this.getImageSize($image, rotateValue, 'x') * Math.abs($image.attr('data-scale'))) - this.core.$outer.find('.lg').width() + minX);\n        if (rotateValue === 90) {\n            return {\n                minY: minX,\n                maxY: maxX,\n                minX: minY,\n                maxX: maxY,\n            };\n        } else {\n            return {\n                minY: minY,\n                maxY: maxY,\n                minX: minX,\n                maxX: maxX,\n            };\n        }\n    };\n\n    Zoom.prototype.getDragAllowedAxises = function ($image, rotateValue) {\n        var allowY = this.getImageSize($image, rotateValue, 'y') * $image.attr('data-scale') > this.core.$outer.find('.lg').height();\n        var allowX = this.getImageSize($image, rotateValue, 'x') * $image.attr('data-scale') > this.core.$outer.find('.lg').width();\n        if (rotateValue === 90) {\n            return {\n                allowX: allowY,\n                allowY: allowX\n            };\n        } else {\n            return {\n                allowX: allowX,\n                allowY: allowY\n            };\n        }\n    };\n\n    // Reset zoom effect\n    Zoom.prototype.resetZoom = function() {\n        this.core.$outer.removeClass('lg-zoomed');\n        this.core.$slide.find('.lg-img-wrap').removeAttr('style data-x data-y');\n        this.core.$slide.find('.lg-image').removeAttr('style data-scale');\n\n        // Reset pagx pagy values to center\n        this.pageX = $(window).width() / 2;\n        this.pageY = ($(window).height() / 2) + $(window).scrollTop();\n    };\n\n    Zoom.prototype.zoomSwipe = function() {\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        var rotateValue = 0;\n        var rotateEl;\n\n        _this.core.$slide.on('touchstart.lg', function(e) {\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                var $image = _this.core.$slide.eq(_this.core.index).find('.lg-object');\n\n                rotateEl = _this.core.$slide.eq(_this.core.index).find('.lg-img-rotate')[0];\n                rotateValue = _this.getCurrentRotation(rotateEl);    \n\n                var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n                allowY = dragAllowedAxises.allowY;\n                allowX = dragAllowedAxises.allowX;\n    \n                if ((allowX || allowY)) {\n                    e.preventDefault();\n                    startCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n                }\n            }\n\n        });\n\n        _this.core.$slide.on('touchmove.lg', function(e) {\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n\n                var _$el = _this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n\n                e.preventDefault();\n                isMoved = true;\n\n                endCoords = _this.getSwipeCords(e, Math.abs(rotateValue));\n\n                // reset opacity and transition duration\n                _this.core.$outer.addClass('lg-zoom-dragging');\n\n                if (allowY) {\n                    distanceY = (-Math.abs(_$el.attr('data-y'))) + ((endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl));\n                } else {\n                    distanceY = -Math.abs(_$el.attr('data-y'));\n                }\n\n                if (allowX) {\n                    distanceX = (-Math.abs(_$el.attr('data-x'))) + ((endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl));\n\n                } else {\n                    distanceX = -Math.abs(_$el.attr('data-x'));\n                }\n\n                if ((Math.abs(endCoords.x - startCoords.x) > 15) || (Math.abs(endCoords.y - startCoords.y) > 15)) {\n\n                    if (_this.core.s.useLeftForZoom) {\n                        _$el.css({\n                            left: distanceX + 'px',\n                            top: distanceY + 'px'\n                        });\n                    } else {\n                        _$el.css('transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                    }\n                }\n\n            }\n\n        });\n\n        _this.core.$slide.on('touchend.lg', function() {\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                if (isMoved) {\n                    isMoved = false;\n                    _this.core.$outer.removeClass('lg-zoom-dragging');\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n\n                }\n            }\n        });\n\n    };\n\n    Zoom.prototype.zoomDrag = function() {\n\n        var _this = this;\n        var startCoords = {};\n        var endCoords = {};\n        var isDraging = false;\n        var isMoved = false;\n\n        // Allow x direction drag\n        var allowX = false;\n\n        // Allow Y direction drag\n        var allowY = false;\n\n        var rotateValue = 0;\n        var rotateEl;\n        \n        _this.core.$slide.on('mousedown.lg.zoom', function(e) {\n            rotateEl = _this.core.$slide.eq(_this.core.index).find('.lg-img-rotate')[0];\n            rotateValue = _this.getCurrentRotation(rotateEl);\n            // execute only on .lg-object\n            var $image = _this.core.$slide.eq(_this.core.index).find('.lg-object');\n            var dragAllowedAxises = _this.getDragAllowedAxises($image, Math.abs(rotateValue));\n            allowY = dragAllowedAxises.allowY;\n            allowX = dragAllowedAxises.allowX;\n\n            if (_this.core.$outer.hasClass('lg-zoomed')) {\n                if ($(e.target).hasClass('lg-object') && (allowX || allowY)) {\n                    e.preventDefault();\n                    startCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                    isDraging = true;\n\n                    // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\n                    _this.core.$outer.scrollLeft += 1;\n                    _this.core.$outer.scrollLeft -= 1;\n\n                    _this.core.$outer.removeClass('lg-grab').addClass('lg-grabbing');\n                }\n            }\n        });\n\n        $(window).on('mousemove.lg.zoom', function(e) {\n            if (isDraging) {\n                var _$el = _this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');\n                var distanceX;\n                var distanceY;\n\n                isMoved = true;\n                endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n\n                // reset opacity and transition duration\n                _this.core.$outer.addClass('lg-zoom-dragging');\n\n                if (allowY) {\n                    distanceY = (-Math.abs(_$el.attr('data-y'))) + ((endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl));\n                } else {\n                    distanceY = -Math.abs(_$el.attr('data-y'));\n                }\n                \n                if (allowX) {\n                    distanceX = (-Math.abs(_$el.attr('data-x'))) + ((endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl));\n                } else {\n                    distanceX = -Math.abs(_$el.attr('data-x'));\n                }\n\n                if (_this.core.s.useLeftForZoom) {\n                    _$el.css({\n                        left: distanceX + 'px',\n                        top: distanceY + 'px'\n                    });\n                } else {\n                    _$el.css('transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n                }\n            }\n        });\n\n        $(window).on('mouseup.lg.zoom', function(e) {\n\n            if (isDraging) {\n                isDraging = false;\n                _this.core.$outer.removeClass('lg-zoom-dragging');\n\n                // Fix for chrome mouse move on click\n                if (isMoved && ((startCoords.x !== endCoords.x) || (startCoords.y !== endCoords.y))) {\n                    endCoords = _this.getDragCords(e, Math.abs(rotateValue));\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY, rotateValue);\n\n                }\n\n                isMoved = false;\n            }\n\n            _this.core.$outer.removeClass('lg-grabbing').addClass('lg-grab');\n\n        });\n    };\n\n    Zoom.prototype.touchendZoom = function(startCoords, endCoords, allowX, allowY, rotateValue) {\n\n        var _this = this;\n        var _$el = _this.core.$slide.eq(_this.core.index).find('.lg-img-wrap');\n        var $image = _this.core.$slide.eq(_this.core.index).find('.lg-object');\n        var rotateEl = _this.core.$slide.eq(_this.core.index).find('.lg-img-rotate')[0];\n        var distanceX = (-Math.abs(_$el.attr('data-x'))) + ((endCoords.x - startCoords.x) * _this.getModifier(rotateValue, 'X', rotateEl));\n        var distanceY = (-Math.abs(_$el.attr('data-y'))) + ((endCoords.y - startCoords.y) * _this.getModifier(rotateValue, 'Y', rotateEl));\n        var possibleDragCords = _this.getPossibleDragCords($image, Math.abs(rotateValue));\n        if ((Math.abs(endCoords.x - startCoords.x) > 15) || (Math.abs(endCoords.y - startCoords.y) > 15)) {\n            if (allowY) {\n                if (distanceY <= -possibleDragCords.maxY) {\n                    distanceY = -possibleDragCords.maxY;\n                } else if (distanceY >= -possibleDragCords.minY) {\n                    distanceY = -possibleDragCords.minY;\n                }\n            }\n\n            if (allowX) {\n                if (distanceX <= -possibleDragCords.maxX) {\n                    distanceX = -possibleDragCords.maxX;\n                } else if (distanceX >= -possibleDragCords.minX) {\n                    distanceX = -possibleDragCords.minX;\n                }\n            }\n\n            if (allowY) {\n                _$el.attr('data-y', Math.abs(distanceY));\n            } else {\n                distanceY = -Math.abs(_$el.attr('data-y'));\n            }\n\n            if (allowX) {\n                _$el.attr('data-x', Math.abs(distanceX));\n            } else {\n                distanceX = -Math.abs(_$el.attr('data-x'));\n            }\n\n            if (_this.core.s.useLeftForZoom) {\n                _$el.css({\n                    left: distanceX + 'px',\n                    top: distanceY + 'px'\n                });\n            } else {\n                _$el.css('transform', 'translate3d(' + distanceX + 'px, ' + distanceY + 'px, 0)');\n            }\n\n        }\n    };\n\n    Zoom.prototype.destroy = function() {\n\n        var _this = this;\n\n        // Unbind all events added by lightGallery zoom plugin\n        _this.core.$el.off('.lg.zoom');\n        $(window).off('.lg.zoom');\n        _this.core.$slide.off('.lg.zoom');\n        _this.core.$el.off('.lg.tm.zoom');\n        _this.resetZoom();\n        clearTimeout(_this.zoomabletimeout);\n        _this.zoomabletimeout = false;\n    };\n\n    $.fn.lightGallery.modules.zoom = Zoom;\n\n})();\n\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbGctem9vbS9kaXN0L2xnLXpvb20uanMuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBLCtCQUErQjs7QUFFL0I7QUFDQSxNQUFNLElBQTBDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBTyxDQUFDLHlFQUFRLENBQUMsbUNBQUU7QUFDdkI7QUFDQSxLQUFLO0FBQUEsa0dBQUM7QUFDTixJQUFJLEtBQUssRUFPTjtBQUNILENBQUM7O0FBRUQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUEsaUNBQWlDOztBQUVqQztBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7O0FBRWQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLFFBQVE7QUFDM0I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7O0FBRWIsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7O0FBRVQ7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrQkFBa0I7QUFDbEI7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QjtBQUN6QixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBOztBQUVBOztBQUVBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTOztBQUVUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsU0FBUztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixjQUFjO0FBQ2Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDOzs7QUFHRCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xnLXpvb20vZGlzdC9sZy16b29tLmpzPzA2OTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIGxnLXpvb20gLSB2MS4zLjAgLSBPY3RvYmVyLTE0LTIwMjBcbiogaHR0cDovL3NhY2hpbmNob29sdXIuZ2l0aHViLmlvL2xpZ2h0R2FsbGVyeVxuKiBDb3B5cmlnaHQgKGMpIDIwMjAgU2FjaGluIE47IExpY2Vuc2VkIEdQTHYzICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xuICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlIHVubGVzcyBhbWRNb2R1bGVJZCBpcyBzZXRcbiAgICBkZWZpbmUoWydqcXVlcnknXSwgZnVuY3Rpb24gKGEwKSB7XG4gICAgICByZXR1cm4gKGZhY3RvcnkoYTApKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgIC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgIC8vIGxpa2UgTm9kZS5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnanF1ZXJ5JykpO1xuICB9IGVsc2Uge1xuICAgIGZhY3Rvcnkocm9vdFtcImpRdWVyeVwiXSk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCQpIHtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIGdldFVzZUxlZnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHVzZUxlZnQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlzQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb20oZXxpdW0pXFwvKFswLTldKylcXC4vKTtcbiAgICAgICAgaWYgKGlzQ2hyb21lICYmIHBhcnNlSW50KGlzQ2hyb21lWzJdLCAxMCkgPCA1NCkge1xuICAgICAgICAgICAgdXNlTGVmdCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdXNlTGVmdDtcbiAgICB9O1xuXG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgem9vbTogdHJ1ZSxcbiAgICAgICAgYWN0dWFsU2l6ZTogdHJ1ZSxcbiAgICAgICAgZW5hYmxlWm9vbUFmdGVyOiAzMDAsXG4gICAgICAgIHVzZUxlZnRGb3Jab29tOiBnZXRVc2VMZWZ0KClcbiAgICB9O1xuXG4gICAgdmFyIFpvb20gPSBmdW5jdGlvbihlbGVtZW50KSB7XG5cbiAgICAgICAgdGhpcy5jb3JlID0gJChlbGVtZW50KS5kYXRhKCdsaWdodEdhbGxlcnknKTtcblxuICAgICAgICB0aGlzLmNvcmUucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgdGhpcy5jb3JlLnMpO1xuXG4gICAgICAgIGlmICh0aGlzLmNvcmUucy56b29tICYmIHRoaXMuY29yZS5kb0NzcygpKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcblxuICAgICAgICAgICAgLy8gU3RvcmUgdGhlIHpvb21hYmxlIHRpbWVvdXQgdmFsdWUganVzdCB0byBjbGVhciBpdCB3aGlsZSBjbG9zaW5nXG4gICAgICAgICAgICB0aGlzLnpvb21hYmxldGltZW91dCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAvLyBTZXQgdGhlIGluaXRpYWwgdmFsdWUgY2VudGVyXG4gICAgICAgICAgICB0aGlzLnBhZ2VYID0gJCh3aW5kb3cpLndpZHRoKCkgLyAyO1xuICAgICAgICAgICAgdGhpcy5wYWdlWSA9ICgkKHdpbmRvdykuaGVpZ2h0KCkgLyAyKSArICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBab29tLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHpvb21JY29ucyA9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwiWm9vbSBpblwiIGlkPVwibGctem9vbS1pblwiIGNsYXNzPVwibGctaWNvblwiPjwvYnV0dG9uPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGFyaWEtbGFiZWw9XCJab29tIG91dFwiIGlkPVwibGctem9vbS1vdXRcIiBjbGFzcz1cImxnLWljb25cIj48L2J1dHRvbj4nO1xuXG4gICAgICAgIGlmIChfdGhpcy5jb3JlLnMuYWN0dWFsU2l6ZSkge1xuICAgICAgICAgICAgem9vbUljb25zICs9ICc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBhcmlhLWxhYmVsPVwiQWN0dWFsIHNpemVcIiBpZD1cImxnLWFjdHVhbC1zaXplXCIgY2xhc3M9XCJsZy1pY29uXCI+PC9idXR0b24+JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChfdGhpcy5jb3JlLnMudXNlTGVmdEZvclpvb20pIHtcbiAgICAgICAgICAgIF90aGlzLmNvcmUuJG91dGVyLmFkZENsYXNzKCdsZy11c2UtbGVmdC1mb3Item9vbScpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIuYWRkQ2xhc3MoJ2xnLXVzZS10cmFuc2l0aW9uLWZvci16b29tJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZy10b29sYmFyJykuYXBwZW5kKHpvb21JY29ucyk7XG5cbiAgICAgICAgLy8gQWRkIHpvb21hYmxlIGNsYXNzXG4gICAgICAgIF90aGlzLmNvcmUuJGVsLm9uKCdvblNsaWRlSXRlbUxvYWQubGcudG0uem9vbScsIGZ1bmN0aW9uKGV2ZW50LCBpbmRleCwgZGVsYXkpIHtcblxuICAgICAgICAgICAgLy8gZGVsYXkgd2lsbCBiZSAwIGV4Y2VwdCBmaXJzdCB0aW1lXG4gICAgICAgICAgICB2YXIgX3NwZWVkID0gX3RoaXMuY29yZS5zLmVuYWJsZVpvb21BZnRlciArIGRlbGF5O1xuXG4gICAgICAgICAgICAvLyBzZXQgX3NwZWVkIHZhbHVlIDAgaWYgZ2FsbGVyeSBvcGVuZWQgZnJvbSBkaXJlY3QgdXJsIGFuZCBpZiBpdCBpcyBmaXJzdCBzbGlkZVxuICAgICAgICAgICAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnbGctZnJvbS1oYXNoJykgJiYgZGVsYXkpIHtcblxuICAgICAgICAgICAgICAgIC8vIHdpbGwgZXhlY3V0ZSBvbmx5IG9uY2VcbiAgICAgICAgICAgICAgICBfc3BlZWQgPSAwO1xuICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBsZy1mcm9tLWhhc2ggdG8gZW5hYmxlIHN0YXJ0aW5nIGFuaW1hdGlvbi5cbiAgICAgICAgICAgICAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2xnLWZyb20taGFzaCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfdGhpcy56b29tYWJsZXRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvcmUuJHNsaWRlLmVxKGluZGV4KS5hZGRDbGFzcygnbGctem9vbWFibGUnKTtcbiAgICAgICAgICAgIH0sIF9zcGVlZCArIDMwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNjYWxlID0gMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjIEltYWdlIHpvb21cbiAgICAgICAgICogVHJhbnNsYXRlIHRoZSB3cmFwIGFuZCBzY2FsZSB0aGUgaW1hZ2UgdG8gZ2V0IGJldHRlciB1c2VyIGV4cGVyaWVuY2VcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHNjYWxlVmFsIC0gWm9vbSBkZWNyZW1lbnQvaW5jcmVtZW50IHZhbHVlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgem9vbSA9IGZ1bmN0aW9uKHNjYWxlVmFsKSB7XG5cbiAgICAgICAgICAgIHZhciAkaW1hZ2UgPSBfdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctY3VycmVudCAubGctaW1hZ2UnKTtcbiAgICAgICAgICAgIHZhciBfeDtcbiAgICAgICAgICAgIHZhciBfeTtcblxuICAgICAgICAgICAgLy8gRmluZCBvZmZzZXQgbWFudWFsbHkgdG8gYXZvaWQgaXNzdWUgYWZ0ZXIgem9vbVxuICAgICAgICAgICAgdmFyIG9mZnNldFggPSAoJCh3aW5kb3cpLndpZHRoKCkgLSAkaW1hZ2UucHJvcCgnb2Zmc2V0V2lkdGgnKSkgLyAyO1xuICAgICAgICAgICAgdmFyIG9mZnNldFkgPSAoKCQod2luZG93KS5oZWlnaHQoKSAtICRpbWFnZS5wcm9wKCdvZmZzZXRIZWlnaHQnKSkgLyAyKSArICQod2luZG93KS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgX3ggPSBfdGhpcy5wYWdlWCAtIG9mZnNldFg7XG4gICAgICAgICAgICBfeSA9IF90aGlzLnBhZ2VZIC0gb2Zmc2V0WTtcblxuICAgICAgICAgICAgdmFyIHggPSAoc2NhbGVWYWwgLSAxKSAqIChfeCk7XG4gICAgICAgICAgICB2YXIgeSA9IChzY2FsZVZhbCAtIDEpICogKF95KTtcblxuICAgICAgICAgICAgJGltYWdlLmNzcygndHJhbnNmb3JtJywgJ3NjYWxlM2QoJyArIHNjYWxlVmFsICsgJywgJyArIHNjYWxlVmFsICsgJywgMSknKS5hdHRyKCdkYXRhLXNjYWxlJywgc2NhbGVWYWwpO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuY29yZS5zLnVzZUxlZnRGb3Jab29tKSB7XG4gICAgICAgICAgICAgICAgJGltYWdlLnBhcmVudCgpLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IC14ICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAteSArICdweCdcbiAgICAgICAgICAgICAgICB9KS5hdHRyKCdkYXRhLXgnLCB4KS5hdHRyKCdkYXRhLXknLCB5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJGltYWdlLnBhcmVudCgpLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKC0nICsgeCArICdweCwgLScgKyB5ICsgJ3B4LCAwKScpLmF0dHIoJ2RhdGEteCcsIHgpLmF0dHIoJ2RhdGEteScsIHkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBjYWxsU2NhbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChzY2FsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5hZGRDbGFzcygnbGctem9vbWVkJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0Wm9vbSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2NhbGUgPCAxKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSAxO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB6b29tKHNjYWxlKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWN0dWFsU2l6ZSA9IGZ1bmN0aW9uKGV2ZW50LCAkaW1hZ2UsIGluZGV4LCBmcm9tSWNvbikge1xuICAgICAgICAgICAgdmFyIHcgPSAkaW1hZ2UucHJvcCgnb2Zmc2V0V2lkdGgnKTtcbiAgICAgICAgICAgIHZhciBudztcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb3JlLnMuZHluYW1pYykge1xuICAgICAgICAgICAgICAgIG53ID0gX3RoaXMuY29yZS5zLmR5bmFtaWNFbFtpbmRleF0ud2lkdGggfHwgJGltYWdlWzBdLm5hdHVyYWxXaWR0aCB8fCB3O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBudyA9IF90aGlzLmNvcmUuJGl0ZW1zLmVxKGluZGV4KS5hdHRyKCdkYXRhLXdpZHRoJykgfHwgJGltYWdlWzBdLm5hdHVyYWxXaWR0aCB8fCB3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX3NjYWxlO1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuY29yZS4kb3V0ZXIuaGFzQ2xhc3MoJ2xnLXpvb21lZCcpKSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobncgPiB3KSB7XG4gICAgICAgICAgICAgICAgICAgIF9zY2FsZSA9IG53IC8gdztcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSBfc2NhbGUgfHwgMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcm9tSWNvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLnBhZ2VYID0gJCh3aW5kb3cpLndpZHRoKCkgLyAyO1xuICAgICAgICAgICAgICAgIF90aGlzLnBhZ2VZID0gKCQod2luZG93KS5oZWlnaHQoKSAvIDIpICsgJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlWCA9IGV2ZW50LnBhZ2VYIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICAgICAgICBfdGhpcy5wYWdlWSA9IGV2ZW50LnBhZ2VZIHx8IGV2ZW50Lm9yaWdpbmFsRXZlbnQudGFyZ2V0VG91Y2hlc1swXS5wYWdlWTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbFNjYWxlKCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNvcmUuJG91dGVyLnJlbW92ZUNsYXNzKCdsZy1ncmFiYmluZycpLmFkZENsYXNzKCdsZy1ncmFiJyk7XG4gICAgICAgICAgICB9LCAxMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHRhcHBlZCA9IGZhbHNlO1xuXG4gICAgICAgIC8vIGV2ZW50IHRyaWdnZXJlZCBhZnRlciBhcHBlbmRpbmcgc2xpZGUgY29udGVudFxuICAgICAgICBfdGhpcy5jb3JlLiRlbC5vbignb25BZmVyQXBwZW5kU2xpZGUubGcudG0uem9vbScsIGZ1bmN0aW9uKGV2ZW50LCBpbmRleCkge1xuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIGN1cnJlbnQgZWxlbWVudFxuICAgICAgICAgICAgdmFyICRpbWFnZSA9IF90aGlzLmNvcmUuJHNsaWRlLmVxKGluZGV4KS5maW5kKCcubGctaW1hZ2UnKTtcblxuICAgICAgICAgICAgJGltYWdlLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgYWN0dWFsU2l6ZShldmVudCwgJGltYWdlLCBpbmRleCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJGltYWdlLm9uKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICB0YXBwZWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFwcGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGFwcGVkKTtcbiAgICAgICAgICAgICAgICAgICAgdGFwcGVkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsU2l6ZShldmVudCwgJGltYWdlLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFVwZGF0ZSB6b29tIG9uIHJlc2l6ZSBhbmQgb3JpZW50YXRpb25jaGFuZ2VcbiAgICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUubGcuem9vbSBzY3JvbGwubGcuem9vbSBvcmllbnRhdGlvbmNoYW5nZS5sZy56b29tJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBfdGhpcy5wYWdlWCA9ICQod2luZG93KS53aWR0aCgpIC8gMjtcbiAgICAgICAgICAgIF90aGlzLnBhZ2VZID0gKCQod2luZG93KS5oZWlnaHQoKSAvIDIpICsgJCh3aW5kb3cpLnNjcm9sbFRvcCgpO1xuICAgICAgICAgICAgem9vbShzY2FsZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNsZy16b29tLW91dCcpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKF90aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZy1jdXJyZW50IC5sZy1pbWFnZScpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNjYWxlIC09IF90aGlzLmNvcmUucy5zY2FsZTtcbiAgICAgICAgICAgICAgICBjYWxsU2NhbGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI2xnLXpvb20taW4nKS5vbignY2xpY2subGcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGctY3VycmVudCAubGctaW1hZ2UnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzY2FsZSArPSBfdGhpcy5jb3JlLnMuc2NhbGU7XG4gICAgICAgICAgICAgICAgY2FsbFNjYWxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQoJyNsZy1hY3R1YWwtc2l6ZScpLm9uKCdjbGljay5sZycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBhY3R1YWxTaXplKGV2ZW50LCBfdGhpcy5jb3JlLiRzbGlkZS5lcShfdGhpcy5jb3JlLmluZGV4KS5maW5kKCcubGctaW1hZ2UnKSwgX3RoaXMuY29yZS5pbmRleCwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFJlc2V0IHpvb20gb24gc2xpZGUgY2hhbmdlXG4gICAgICAgIF90aGlzLmNvcmUuJGVsLm9uKCdvbkJlZm9yZVNsaWRlLmxnLnRtJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY2FsZSA9IDE7XG4gICAgICAgICAgICBfdGhpcy5yZXNldFpvb20oKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRHJhZyBvcHRpb24gYWZ0ZXIgem9vbVxuICAgICAgICBfdGhpcy56b29tRHJhZygpO1xuXG4gICAgICAgIF90aGlzLnpvb21Td2lwZSgpO1xuXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7RWxlbWVudH0gZWwgXG4gICAgICogQHJldHVybiBtYXRyaXgoY29zKFgpLCBzaW4oWCksIC1zaW4oWCksIGNvcyhYKSwgMCwgMCk7XG4gICAgICogR2V0IHRoZSBjdXJyZW50IHRyYW5zZm9ybSB2YWx1ZVxuICAgICAqL1xuICAgIFpvb20ucHJvdG90eXBlLmdldEN1cnJlbnRUcmFuc2Zvcm0gPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwsIG51bGwpO1xuICAgICAgICB2YXIgdG0gPSBzdC5nZXRQcm9wZXJ0eVZhbHVlKCctd2Via2l0LXRyYW5zZm9ybScpIHx8XG4gICAgICAgICAgICBzdC5nZXRQcm9wZXJ0eVZhbHVlKCctbW96LXRyYW5zZm9ybScpIHx8XG4gICAgICAgICAgICBzdC5nZXRQcm9wZXJ0eVZhbHVlKCctbXMtdHJhbnNmb3JtJykgfHxcbiAgICAgICAgICAgIHN0LmdldFByb3BlcnR5VmFsdWUoJy1vLXRyYW5zZm9ybScpIHx8XG4gICAgICAgICAgICBzdC5nZXRQcm9wZXJ0eVZhbHVlKCd0cmFuc2Zvcm0nKSB8fFxuICAgICAgICAgICAgJ25vbmUnO1xuICAgICAgICBpZiAodG0gIT09ICdub25lJykge1xuICAgICAgICAgICAgcmV0dXJuIHRtLnNwbGl0KCcoJylbMV0uc3BsaXQoJyknKVswXS5zcGxpdCgnLCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG5cbiAgICBab29tLnByb3RvdHlwZS5nZXRDdXJyZW50Um90YXRpb24gPSBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuZ2V0Q3VycmVudFRyYW5zZm9ybShlbCk7XG4gICAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKE1hdGguYXRhbjIodmFsdWVzWzFdLCB2YWx1ZXNbMF0pICogKDE4MCAvIE1hdGguUEkpKTtcbiAgICAgICAgICAgIC8vIElmIHlvdSB3YW50IHJvdGF0ZSBpbiAzNjBcbiAgICAgICAgICAgIC8vcmV0dXJuIChhbmdsZSA8IDAgPyBhbmdsZSArIDM2MCA6IGFuZ2xlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xuXG4gICAgWm9vbS5wcm90b3R5cGUuZ2V0TW9kaWZpZXIgPSBmdW5jdGlvbiAocm90YXRlVmFsdWUsIGF4aXMsIGVsKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbFJvdGF0ZSA9IHJvdGF0ZVZhbHVlO1xuICAgICAgICByb3RhdGVWYWx1ZSA9IE1hdGguYWJzKHJvdGF0ZVZhbHVlKTtcbiAgICAgICAgdmFyIHRyYW5zZm9ybVZhbHVlcyA9IHRoaXMuZ2V0Q3VycmVudFRyYW5zZm9ybShlbCk7XG4gICAgICAgIGlmICghdHJhbnNmb3JtVmFsdWVzKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kaWZpZXIgPSAxO1xuICAgICAgICBpZiAoYXhpcyA9PT0gJ1gnKSB7XG4gICAgICAgICAgICB2YXIgZmxpcEhvcml6b250YWxWYWx1ZSA9IE1hdGguc2lnbihwYXJzZUZsb2F0KHRyYW5zZm9ybVZhbHVlc1swXSkpO1xuICAgICAgICAgICAgaWYgKHJvdGF0ZVZhbHVlID09PSAwIHx8IHJvdGF0ZVZhbHVlID09PSAxODApIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllciA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvdGF0ZVZhbHVlID09PSA5MCkge1xuICAgICAgICAgICAgICAgIGlmICgob3JpZ2luYWxSb3RhdGUgPT09IC05MCAmJiBmbGlwSG9yaXpvbnRhbFZhbHVlID09PSAxKSB8fCAob3JpZ2luYWxSb3RhdGUgPT09IDkwICYmIGZsaXBIb3Jpem9udGFsVmFsdWUgPT09IC0xKSkge1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllciA9IC0xO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVyID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb2RpZmllciA9IG1vZGlmaWVyICogZmxpcEhvcml6b250YWxWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmbGlwVmVydGljYWxWYWx1ZSA9IE1hdGguc2lnbihwYXJzZUZsb2F0KHRyYW5zZm9ybVZhbHVlc1szXSkpO1xuICAgICAgICAgICAgaWYgKHJvdGF0ZVZhbHVlID09PSAwIHx8IHJvdGF0ZVZhbHVlID09PSAxODApIHtcbiAgICAgICAgICAgICAgICBtb2RpZmllciA9IDE7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJvdGF0ZVZhbHVlID09PSA5MCkge1xuICAgICAgICAgICAgICAgIHZhciBzaW5YID0gcGFyc2VGbG9hdCh0cmFuc2Zvcm1WYWx1ZXNbMV0pO1xuICAgICAgICAgICAgICAgIHZhciBzaW5NaW51c1ggPSBwYXJzZUZsb2F0KHRyYW5zZm9ybVZhbHVlc1syXSk7XG4gICAgICAgICAgICAgICAgbW9kaWZpZXIgPSBNYXRoLnNpZ24oc2luWCAqIHNpbk1pbnVzWCAqIG9yaWdpbmFsUm90YXRlICogZmxpcFZlcnRpY2FsVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbW9kaWZpZXIgPSBtb2RpZmllciAqIGZsaXBWZXJ0aWNhbFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtb2RpZmllcjtcbiAgICB9O1xuXG4gICAgWm9vbS5wcm90b3R5cGUuZ2V0SW1hZ2VTaXplID0gZnVuY3Rpb24gKCRpbWFnZSwgcm90YXRlVmFsdWUsIGF4aXMpIHtcbiAgICAgICAgdmFyIGltYWdlU2l6ZXMgPSB7XG4gICAgICAgICAgICB5OiAnb2Zmc2V0SGVpZ2h0JyxcbiAgICAgICAgICAgIHg6ICdvZmZzZXRXaWR0aCdcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJvdGF0ZVZhbHVlID09PSA5MCkge1xuICAgICAgICAgICAgLy8gU3dhcCBheGlzIFxuICAgICAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xuICAgICAgICAgICAgICAgIGF4aXMgPSAneSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF4aXMgPSAneCc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICRpbWFnZS5wcm9wKGltYWdlU2l6ZXNbYXhpc10pO1xuICAgIH07XG5cbiAgICBab29tLnByb3RvdHlwZS5nZXREcmFnQ29yZHMgPSBmdW5jdGlvbiAoZSwgcm90YXRlVmFsdWUpIHtcbiAgICAgICAgaWYgKHJvdGF0ZVZhbHVlID09PSA5MCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBlLnBhZ2VZLFxuICAgICAgICAgICAgICAgIHk6IGUucGFnZVhcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IGUucGFnZVgsXG4gICAgICAgICAgICAgICAgeTogZS5wYWdlWVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgWm9vbS5wcm90b3R5cGUuZ2V0U3dpcGVDb3JkcyA9IGZ1bmN0aW9uIChlLCByb3RhdGVWYWx1ZSkge1xuICAgICAgICB2YXIgeCA9IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuICAgICAgICB2YXIgeSA9IGUub3JpZ2luYWxFdmVudC50YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuICAgICAgICBpZiAocm90YXRlVmFsdWUgPT09IDkwKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHksXG4gICAgICAgICAgICAgICAgeTogeFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgICAgICB5OiB5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFpvb20ucHJvdG90eXBlLmdldFBvc3NpYmxlRHJhZ0NvcmRzID0gZnVuY3Rpb24gKCRpbWFnZSwgcm90YXRlVmFsdWUpIHtcblxuICAgICAgICB2YXIgbWluWSA9ICh0aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZycpLmhlaWdodCgpIC0gdGhpcy5nZXRJbWFnZVNpemUoJGltYWdlLCByb3RhdGVWYWx1ZSwgJ3knKSkgLyAyO1xuICAgICAgICB2YXIgbWF4WSA9IE1hdGguYWJzKCh0aGlzLmdldEltYWdlU2l6ZSgkaW1hZ2UsIHJvdGF0ZVZhbHVlLCAneScpICogTWF0aC5hYnMoJGltYWdlLmF0dHIoJ2RhdGEtc2NhbGUnKSkpIC0gdGhpcy5jb3JlLiRvdXRlci5maW5kKCcubGcnKS5oZWlnaHQoKSArIG1pblkpO1xuICAgICAgICB2YXIgbWluWCA9ICh0aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZycpLndpZHRoKCkgLSB0aGlzLmdldEltYWdlU2l6ZSgkaW1hZ2UsIHJvdGF0ZVZhbHVlLCAneCcpKSAvIDI7XG4gICAgICAgIHZhciBtYXhYID0gTWF0aC5hYnMoKHRoaXMuZ2V0SW1hZ2VTaXplKCRpbWFnZSwgcm90YXRlVmFsdWUsICd4JykgKiBNYXRoLmFicygkaW1hZ2UuYXR0cignZGF0YS1zY2FsZScpKSkgLSB0aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZycpLndpZHRoKCkgKyBtaW5YKTtcbiAgICAgICAgaWYgKHJvdGF0ZVZhbHVlID09PSA5MCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBtaW5ZOiBtaW5YLFxuICAgICAgICAgICAgICAgIG1heFk6IG1heFgsXG4gICAgICAgICAgICAgICAgbWluWDogbWluWSxcbiAgICAgICAgICAgICAgICBtYXhYOiBtYXhZLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbWluWTogbWluWSxcbiAgICAgICAgICAgICAgICBtYXhZOiBtYXhZLFxuICAgICAgICAgICAgICAgIG1pblg6IG1pblgsXG4gICAgICAgICAgICAgICAgbWF4WDogbWF4WCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgWm9vbS5wcm90b3R5cGUuZ2V0RHJhZ0FsbG93ZWRBeGlzZXMgPSBmdW5jdGlvbiAoJGltYWdlLCByb3RhdGVWYWx1ZSkge1xuICAgICAgICB2YXIgYWxsb3dZID0gdGhpcy5nZXRJbWFnZVNpemUoJGltYWdlLCByb3RhdGVWYWx1ZSwgJ3knKSAqICRpbWFnZS5hdHRyKCdkYXRhLXNjYWxlJykgPiB0aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZycpLmhlaWdodCgpO1xuICAgICAgICB2YXIgYWxsb3dYID0gdGhpcy5nZXRJbWFnZVNpemUoJGltYWdlLCByb3RhdGVWYWx1ZSwgJ3gnKSAqICRpbWFnZS5hdHRyKCdkYXRhLXNjYWxlJykgPiB0aGlzLmNvcmUuJG91dGVyLmZpbmQoJy5sZycpLndpZHRoKCk7XG4gICAgICAgIGlmIChyb3RhdGVWYWx1ZSA9PT0gOTApIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWxsb3dYOiBhbGxvd1ksXG4gICAgICAgICAgICAgICAgYWxsb3dZOiBhbGxvd1hcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFsbG93WDogYWxsb3dYLFxuICAgICAgICAgICAgICAgIGFsbG93WTogYWxsb3dZXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8vIFJlc2V0IHpvb20gZWZmZWN0XG4gICAgWm9vbS5wcm90b3R5cGUucmVzZXRab29tID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY29yZS4kb3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLXpvb21lZCcpO1xuICAgICAgICB0aGlzLmNvcmUuJHNsaWRlLmZpbmQoJy5sZy1pbWctd3JhcCcpLnJlbW92ZUF0dHIoJ3N0eWxlIGRhdGEteCBkYXRhLXknKTtcbiAgICAgICAgdGhpcy5jb3JlLiRzbGlkZS5maW5kKCcubGctaW1hZ2UnKS5yZW1vdmVBdHRyKCdzdHlsZSBkYXRhLXNjYWxlJyk7XG5cbiAgICAgICAgLy8gUmVzZXQgcGFneCBwYWd5IHZhbHVlcyB0byBjZW50ZXJcbiAgICAgICAgdGhpcy5wYWdlWCA9ICQod2luZG93KS53aWR0aCgpIC8gMjtcbiAgICAgICAgdGhpcy5wYWdlWSA9ICgkKHdpbmRvdykuaGVpZ2h0KCkgLyAyKSArICQod2luZG93KS5zY3JvbGxUb3AoKTtcbiAgICB9O1xuXG4gICAgWm9vbS5wcm90b3R5cGUuem9vbVN3aXBlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IHt9O1xuICAgICAgICB2YXIgZW5kQ29vcmRzID0ge307XG4gICAgICAgIHZhciBpc01vdmVkID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQWxsb3cgeCBkaXJlY3Rpb24gZHJhZ1xuICAgICAgICB2YXIgYWxsb3dYID0gZmFsc2U7XG5cbiAgICAgICAgLy8gQWxsb3cgWSBkaXJlY3Rpb24gZHJhZ1xuICAgICAgICB2YXIgYWxsb3dZID0gZmFsc2U7XG5cbiAgICAgICAgdmFyIHJvdGF0ZVZhbHVlID0gMDtcbiAgICAgICAgdmFyIHJvdGF0ZUVsO1xuXG4gICAgICAgIF90aGlzLmNvcmUuJHNsaWRlLm9uKCd0b3VjaHN0YXJ0LmxnJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuY29yZS4kb3V0ZXIuaGFzQ2xhc3MoJ2xnLXpvb21lZCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyICRpbWFnZSA9IF90aGlzLmNvcmUuJHNsaWRlLmVxKF90aGlzLmNvcmUuaW5kZXgpLmZpbmQoJy5sZy1vYmplY3QnKTtcblxuICAgICAgICAgICAgICAgIHJvdGF0ZUVsID0gX3RoaXMuY29yZS4kc2xpZGUuZXEoX3RoaXMuY29yZS5pbmRleCkuZmluZCgnLmxnLWltZy1yb3RhdGUnKVswXTtcbiAgICAgICAgICAgICAgICByb3RhdGVWYWx1ZSA9IF90aGlzLmdldEN1cnJlbnRSb3RhdGlvbihyb3RhdGVFbCk7ICAgIFxuXG4gICAgICAgICAgICAgICAgdmFyIGRyYWdBbGxvd2VkQXhpc2VzID0gX3RoaXMuZ2V0RHJhZ0FsbG93ZWRBeGlzZXMoJGltYWdlLCBNYXRoLmFicyhyb3RhdGVWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIGFsbG93WSA9IGRyYWdBbGxvd2VkQXhpc2VzLmFsbG93WTtcbiAgICAgICAgICAgICAgICBhbGxvd1ggPSBkcmFnQWxsb3dlZEF4aXNlcy5hbGxvd1g7XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKChhbGxvd1ggfHwgYWxsb3dZKSkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0Q29vcmRzID0gX3RoaXMuZ2V0U3dpcGVDb3JkcyhlLCBNYXRoLmFicyhyb3RhdGVWYWx1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5jb3JlLiRzbGlkZS5vbigndG91Y2htb3ZlLmxnJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAoX3RoaXMuY29yZS4kb3V0ZXIuaGFzQ2xhc3MoJ2xnLXpvb21lZCcpKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgXyRlbCA9IF90aGlzLmNvcmUuJHNsaWRlLmVxKF90aGlzLmNvcmUuaW5kZXgpLmZpbmQoJy5sZy1pbWctd3JhcCcpO1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVg7XG4gICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlWTtcblxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBpc01vdmVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGVuZENvb3JkcyA9IF90aGlzLmdldFN3aXBlQ29yZHMoZSwgTWF0aC5hYnMocm90YXRlVmFsdWUpKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IG9wYWNpdHkgYW5kIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5hZGRDbGFzcygnbGctem9vbS1kcmFnZ2luZycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFsbG93WSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVkgPSAoLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS15JykpKSArICgoZW5kQ29vcmRzLnkgLSBzdGFydENvb3Jkcy55KSAqIF90aGlzLmdldE1vZGlmaWVyKHJvdGF0ZVZhbHVlLCAnWScsIHJvdGF0ZUVsKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VZID0gLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS15JykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChhbGxvd1gpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VYID0gKC1NYXRoLmFicyhfJGVsLmF0dHIoJ2RhdGEteCcpKSkgKyAoKGVuZENvb3Jkcy54IC0gc3RhcnRDb29yZHMueCkgKiBfdGhpcy5nZXRNb2RpZmllcihyb3RhdGVWYWx1ZSwgJ1gnLCByb3RhdGVFbCkpO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VYID0gLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS14JykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICgoTWF0aC5hYnMoZW5kQ29vcmRzLnggLSBzdGFydENvb3Jkcy54KSA+IDE1KSB8fCAoTWF0aC5hYnMoZW5kQ29vcmRzLnkgLSBzdGFydENvb3Jkcy55KSA+IDE1KSkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jb3JlLnMudXNlTGVmdEZvclpvb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8kZWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkaXN0YW5jZVggKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogZGlzdGFuY2VZICsgJ3B4J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfJGVsLmNzcygndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCcgKyBkaXN0YW5jZVggKyAncHgsICcgKyBkaXN0YW5jZVkgKyAncHgsIDApJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9KTtcblxuICAgICAgICBfdGhpcy5jb3JlLiRzbGlkZS5vbigndG91Y2hlbmQubGcnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmIChfdGhpcy5jb3JlLiRvdXRlci5oYXNDbGFzcygnbGctem9vbWVkJykpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3ZlZCkge1xuICAgICAgICAgICAgICAgICAgICBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmNvcmUuJG91dGVyLnJlbW92ZUNsYXNzKCdsZy16b29tLWRyYWdnaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnRvdWNoZW5kWm9vbShzdGFydENvb3JkcywgZW5kQ29vcmRzLCBhbGxvd1gsIGFsbG93WSwgcm90YXRlVmFsdWUpO1xuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH07XG5cbiAgICBab29tLnByb3RvdHlwZS56b29tRHJhZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBzdGFydENvb3JkcyA9IHt9O1xuICAgICAgICB2YXIgZW5kQ29vcmRzID0ge307XG4gICAgICAgIHZhciBpc0RyYWdpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGlzTW92ZWQgPSBmYWxzZTtcblxuICAgICAgICAvLyBBbGxvdyB4IGRpcmVjdGlvbiBkcmFnXG4gICAgICAgIHZhciBhbGxvd1ggPSBmYWxzZTtcblxuICAgICAgICAvLyBBbGxvdyBZIGRpcmVjdGlvbiBkcmFnXG4gICAgICAgIHZhciBhbGxvd1kgPSBmYWxzZTtcblxuICAgICAgICB2YXIgcm90YXRlVmFsdWUgPSAwO1xuICAgICAgICB2YXIgcm90YXRlRWw7XG4gICAgICAgIFxuICAgICAgICBfdGhpcy5jb3JlLiRzbGlkZS5vbignbW91c2Vkb3duLmxnLnpvb20nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByb3RhdGVFbCA9IF90aGlzLmNvcmUuJHNsaWRlLmVxKF90aGlzLmNvcmUuaW5kZXgpLmZpbmQoJy5sZy1pbWctcm90YXRlJylbMF07XG4gICAgICAgICAgICByb3RhdGVWYWx1ZSA9IF90aGlzLmdldEN1cnJlbnRSb3RhdGlvbihyb3RhdGVFbCk7XG4gICAgICAgICAgICAvLyBleGVjdXRlIG9ubHkgb24gLmxnLW9iamVjdFxuICAgICAgICAgICAgdmFyICRpbWFnZSA9IF90aGlzLmNvcmUuJHNsaWRlLmVxKF90aGlzLmNvcmUuaW5kZXgpLmZpbmQoJy5sZy1vYmplY3QnKTtcbiAgICAgICAgICAgIHZhciBkcmFnQWxsb3dlZEF4aXNlcyA9IF90aGlzLmdldERyYWdBbGxvd2VkQXhpc2VzKCRpbWFnZSwgTWF0aC5hYnMocm90YXRlVmFsdWUpKTtcbiAgICAgICAgICAgIGFsbG93WSA9IGRyYWdBbGxvd2VkQXhpc2VzLmFsbG93WTtcbiAgICAgICAgICAgIGFsbG93WCA9IGRyYWdBbGxvd2VkQXhpc2VzLmFsbG93WDtcblxuICAgICAgICAgICAgaWYgKF90aGlzLmNvcmUuJG91dGVyLmhhc0NsYXNzKCdsZy16b29tZWQnKSkge1xuICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5oYXNDbGFzcygnbGctb2JqZWN0JykgJiYgKGFsbG93WCB8fCBhbGxvd1kpKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb29yZHMgPSBfdGhpcy5nZXREcmFnQ29yZHMoZSwgTWF0aC5hYnMocm90YXRlVmFsdWUpKTtcblxuICAgICAgICAgICAgICAgICAgICBpc0RyYWdpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICoqIEZpeCBmb3Igd2Via2l0IGN1cnNvciBpc3N1ZSBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjY3MjNcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIuc2Nyb2xsTGVmdCArPSAxO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5zY3JvbGxMZWZ0IC09IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLWdyYWInKS5hZGRDbGFzcygnbGctZ3JhYmJpbmcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQod2luZG93KS5vbignbW91c2Vtb3ZlLmxnLnpvb20nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpZiAoaXNEcmFnaW5nKSB7XG4gICAgICAgICAgICAgICAgdmFyIF8kZWwgPSBfdGhpcy5jb3JlLiRzbGlkZS5lcShfdGhpcy5jb3JlLmluZGV4KS5maW5kKCcubGctaW1nLXdyYXAnKTtcbiAgICAgICAgICAgICAgICB2YXIgZGlzdGFuY2VYO1xuICAgICAgICAgICAgICAgIHZhciBkaXN0YW5jZVk7XG5cbiAgICAgICAgICAgICAgICBpc01vdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlbmRDb29yZHMgPSBfdGhpcy5nZXREcmFnQ29yZHMoZSwgTWF0aC5hYnMocm90YXRlVmFsdWUpKTtcblxuICAgICAgICAgICAgICAgIC8vIHJlc2V0IG9wYWNpdHkgYW5kIHRyYW5zaXRpb24gZHVyYXRpb25cbiAgICAgICAgICAgICAgICBfdGhpcy5jb3JlLiRvdXRlci5hZGRDbGFzcygnbGctem9vbS1kcmFnZ2luZycpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFsbG93WSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVkgPSAoLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS15JykpKSArICgoZW5kQ29vcmRzLnkgLSBzdGFydENvb3Jkcy55KSAqIF90aGlzLmdldE1vZGlmaWVyKHJvdGF0ZVZhbHVlLCAnWScsIHJvdGF0ZUVsKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VZID0gLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS15JykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dYKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlWCA9ICgtTWF0aC5hYnMoXyRlbC5hdHRyKCdkYXRhLXgnKSkpICsgKChlbmRDb29yZHMueCAtIHN0YXJ0Q29vcmRzLngpICogX3RoaXMuZ2V0TW9kaWZpZXIocm90YXRlVmFsdWUsICdYJywgcm90YXRlRWwpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVggPSAtTWF0aC5hYnMoXyRlbC5hdHRyKCdkYXRhLXgnKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLmNvcmUucy51c2VMZWZ0Rm9yWm9vbSkge1xuICAgICAgICAgICAgICAgICAgICBfJGVsLmNzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkaXN0YW5jZVggKyAncHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBkaXN0YW5jZVkgKyAncHgnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF8kZWwuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIGRpc3RhbmNlWCArICdweCwgJyArIGRpc3RhbmNlWSArICdweCwgMCknKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQod2luZG93KS5vbignbW91c2V1cC5sZy56b29tJywgZnVuY3Rpb24oZSkge1xuXG4gICAgICAgICAgICBpZiAoaXNEcmFnaW5nKSB7XG4gICAgICAgICAgICAgICAgaXNEcmFnaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX3RoaXMuY29yZS4kb3V0ZXIucmVtb3ZlQ2xhc3MoJ2xnLXpvb20tZHJhZ2dpbmcnKTtcblxuICAgICAgICAgICAgICAgIC8vIEZpeCBmb3IgY2hyb21lIG1vdXNlIG1vdmUgb24gY2xpY2tcbiAgICAgICAgICAgICAgICBpZiAoaXNNb3ZlZCAmJiAoKHN0YXJ0Q29vcmRzLnggIT09IGVuZENvb3Jkcy54KSB8fCAoc3RhcnRDb29yZHMueSAhPT0gZW5kQ29vcmRzLnkpKSkge1xuICAgICAgICAgICAgICAgICAgICBlbmRDb29yZHMgPSBfdGhpcy5nZXREcmFnQ29yZHMoZSwgTWF0aC5hYnMocm90YXRlVmFsdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMudG91Y2hlbmRab29tKHN0YXJ0Q29vcmRzLCBlbmRDb29yZHMsIGFsbG93WCwgYWxsb3dZLCByb3RhdGVWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpc01vdmVkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF90aGlzLmNvcmUuJG91dGVyLnJlbW92ZUNsYXNzKCdsZy1ncmFiYmluZycpLmFkZENsYXNzKCdsZy1ncmFiJyk7XG5cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIFpvb20ucHJvdG90eXBlLnRvdWNoZW5kWm9vbSA9IGZ1bmN0aW9uKHN0YXJ0Q29vcmRzLCBlbmRDb29yZHMsIGFsbG93WCwgYWxsb3dZLCByb3RhdGVWYWx1ZSkge1xuXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfJGVsID0gX3RoaXMuY29yZS4kc2xpZGUuZXEoX3RoaXMuY29yZS5pbmRleCkuZmluZCgnLmxnLWltZy13cmFwJyk7XG4gICAgICAgIHZhciAkaW1hZ2UgPSBfdGhpcy5jb3JlLiRzbGlkZS5lcShfdGhpcy5jb3JlLmluZGV4KS5maW5kKCcubGctb2JqZWN0Jyk7XG4gICAgICAgIHZhciByb3RhdGVFbCA9IF90aGlzLmNvcmUuJHNsaWRlLmVxKF90aGlzLmNvcmUuaW5kZXgpLmZpbmQoJy5sZy1pbWctcm90YXRlJylbMF07XG4gICAgICAgIHZhciBkaXN0YW5jZVggPSAoLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS14JykpKSArICgoZW5kQ29vcmRzLnggLSBzdGFydENvb3Jkcy54KSAqIF90aGlzLmdldE1vZGlmaWVyKHJvdGF0ZVZhbHVlLCAnWCcsIHJvdGF0ZUVsKSk7XG4gICAgICAgIHZhciBkaXN0YW5jZVkgPSAoLU1hdGguYWJzKF8kZWwuYXR0cignZGF0YS15JykpKSArICgoZW5kQ29vcmRzLnkgLSBzdGFydENvb3Jkcy55KSAqIF90aGlzLmdldE1vZGlmaWVyKHJvdGF0ZVZhbHVlLCAnWScsIHJvdGF0ZUVsKSk7XG4gICAgICAgIHZhciBwb3NzaWJsZURyYWdDb3JkcyA9IF90aGlzLmdldFBvc3NpYmxlRHJhZ0NvcmRzKCRpbWFnZSwgTWF0aC5hYnMocm90YXRlVmFsdWUpKTtcbiAgICAgICAgaWYgKChNYXRoLmFicyhlbmRDb29yZHMueCAtIHN0YXJ0Q29vcmRzLngpID4gMTUpIHx8IChNYXRoLmFicyhlbmRDb29yZHMueSAtIHN0YXJ0Q29vcmRzLnkpID4gMTUpKSB7XG4gICAgICAgICAgICBpZiAoYWxsb3dZKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlWSA8PSAtcG9zc2libGVEcmFnQ29yZHMubWF4WSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVkgPSAtcG9zc2libGVEcmFnQ29yZHMubWF4WTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRpc3RhbmNlWSA+PSAtcG9zc2libGVEcmFnQ29yZHMubWluWSkge1xuICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZVkgPSAtcG9zc2libGVEcmFnQ29yZHMubWluWTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChhbGxvd1gpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VYIDw9IC1wb3NzaWJsZURyYWdDb3Jkcy5tYXhYKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlWCA9IC1wb3NzaWJsZURyYWdDb3Jkcy5tYXhYO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VYID49IC1wb3NzaWJsZURyYWdDb3Jkcy5taW5YKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlWCA9IC1wb3NzaWJsZURyYWdDb3Jkcy5taW5YO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFsbG93WSkge1xuICAgICAgICAgICAgICAgIF8kZWwuYXR0cignZGF0YS15JywgTWF0aC5hYnMoZGlzdGFuY2VZKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlWSA9IC1NYXRoLmFicyhfJGVsLmF0dHIoJ2RhdGEteScpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGFsbG93WCkge1xuICAgICAgICAgICAgICAgIF8kZWwuYXR0cignZGF0YS14JywgTWF0aC5hYnMoZGlzdGFuY2VYKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRpc3RhbmNlWCA9IC1NYXRoLmFicyhfJGVsLmF0dHIoJ2RhdGEteCcpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKF90aGlzLmNvcmUucy51c2VMZWZ0Rm9yWm9vbSkge1xuICAgICAgICAgICAgICAgIF8kZWwuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogZGlzdGFuY2VYICsgJ3B4JyxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiBkaXN0YW5jZVkgKyAncHgnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIF8kZWwuY3NzKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoJyArIGRpc3RhbmNlWCArICdweCwgJyArIGRpc3RhbmNlWSArICdweCwgMCknKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFpvb20ucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIC8vIFVuYmluZCBhbGwgZXZlbnRzIGFkZGVkIGJ5IGxpZ2h0R2FsbGVyeSB6b29tIHBsdWdpblxuICAgICAgICBfdGhpcy5jb3JlLiRlbC5vZmYoJy5sZy56b29tJyk7XG4gICAgICAgICQod2luZG93KS5vZmYoJy5sZy56b29tJyk7XG4gICAgICAgIF90aGlzLmNvcmUuJHNsaWRlLm9mZignLmxnLnpvb20nKTtcbiAgICAgICAgX3RoaXMuY29yZS4kZWwub2ZmKCcubGcudG0uem9vbScpO1xuICAgICAgICBfdGhpcy5yZXNldFpvb20oKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnpvb21hYmxldGltZW91dCk7XG4gICAgICAgIF90aGlzLnpvb21hYmxldGltZW91dCA9IGZhbHNlO1xuICAgIH07XG5cbiAgICAkLmZuLmxpZ2h0R2FsbGVyeS5tb2R1bGVzLnpvb20gPSBab29tO1xuXG59KSgpO1xuXG5cbn0pKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/lg-zoom/dist/lg-zoom.js\n");

/***/ })

}]);